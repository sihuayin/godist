webpackJsonp([2],[,,,,,,,function(t,e,a){var s=a(309),o=a(317),l=a(311),r=a(310),n=a(316),i=a(315),c=a(312),d=a(314),u=a(313);t.exports={port_code:s,port_user:o,port_file:l,port_conf:r,port_task:n,port_record:i,port_git:c,port_p2p:d,port_other:u}},,,,,,function(t,e,a){var s=a(3)(a(279),a(659),null,null);t.exports=s.exports},function(t,e,a){"use strict";var s=a(13),o=(a.n(s),a(617)),l=a.n(o),r=a(618),n=a.n(r),i=a(619),c=(a.n(i),a(613)),d=a.n(c),u=a(232),p=a.n(u),m=a(620),f=a.n(m);a.d(e,"a",function(){return l.a}),a.d(e,"b",function(){return n.a}),a.d(e,"c",function(){return d.a}),a.d(e,"d",function(){return p.a}),a.d(e,"e",function(){return f.a})},,,,,,,,,,,function(t,e,a){"use strict";var s=a(322),o=(a(320),a(321));a.d(e,"a",function(){return s.a}),a.d(e,"b",function(){return o.a})},function(t,e,a){"use strict";var s=a(23),o=a(85),l=a(326),r=a(327),n=a(328),i=a(329);s.default.use(o.c),e.a=new o.c.Store({state:i.a,getters:r.a,actions:l.a,mutations:n.a})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";a.d(e,"a",function(){return s});var s="set_user_info"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";a.d(e,"a",function(){return s}),a.d(e,"b",function(){return o});var s="gopub_",o="gopub_base64_"},function(t,e,a){"use strict";a.d(e,"a",function(){return s});var s="get_user_info"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";var s=(a(319),a(318));a.d(e,"a",function(){return s.a})},function(t,e,a){"use strict";var s=a(23),o=a(676),l=a(26),r=a(608),n=a.n(r),i=a(597);a.n(i);s.default.use(o.a);var c=[{path:"/home",name:"home",components:{default:a(624),menuView:a(13)},meta:{title:"主页",auth:!0}},{path:"/conf/list",name:"confList",components:{default:a(621),menuView:a(13)},meta:{title:"项目配置",auth:!0}},{path:"/conf/update/:id",name:"confUpdate",components:{default:a(233),menuView:a(13)},meta:{title:"修改配置",auth:!0}},{path:"/conf/detection/:id",name:"confDetection",components:{default:a(622),menuView:a(13)},meta:{title:"检测项目",auth:!0}},{path:"/conf/add",name:"confAdd",components:{default:a(233),menuView:a(13)},meta:{title:"增加项目配置",auth:!0}},{path:"/task/list",name:"taskList",components:{default:a(627),menuView:a(13)},meta:{title:"全部上线单",auth:!0}},{path:"/task/searchlist",name:"searchtaskList",components:{default:a(636),menuView:a(231)}},{path:"/task/create",name:"taskCreate",components:{default:a(628),menuView:a(13)},meta:{title:"创建上线单",auth:!0}},{path:"/task/release/:id",name:"taskRelease",components:{default:a(635),menuView:a(13)},meta:{title:"部署上线",auth:!0}},{path:"/task/searchrelease/:id",name:"searchtaskRelease",components:{default:a(637),menuView:a(231)},meta:{title:"部署上线",auth:!0}},{path:"/task/mylist",name:"taskMyList",components:{default:a(634),menuView:a(13)},meta:{title:"我的上线单",auth:!0}},{path:"/task/git",name:"taskGit",components:{default:a(631),menuView:a(13)},meta:{title:"创建上线单",auth:!0}},{path:"/task/file",name:"taskFile",components:{default:a(629),menuView:a(13)},meta:{title:"创建上线单",auth:!0}},{path:"/task/jenkins",name:"taskJenkins",components:{default:a(633),menuView:a(13)},meta:{title:"创建上线单",auth:!0}},{path:"/p2p/check",name:"p2pCheck",components:{default:a(626),menuView:a(13)},meta:{title:"agent状态查询",auth:!0}},{path:"/other/noauto",name:"noauto",components:{default:a(625),menuView:a(13)},meta:{title:"预发布统计",auth:!0}},{path:"/other/flush",name:"otherFlush",components:{default:a(630),menuView:a(13)},meta:{title:"刷新版本号",auth:!0}},{path:"/other/gitpull",name:"otherGitpull",components:{default:a(632),menuView:a(13)},meta:{title:"预发布git版本查看",auth:!0}},{path:"/user/login",name:"login",components:{fullView:a(640)}},{path:"/user/register",name:"register",components:{menuView:a(13),default:a(641)}},{path:"/user/changepasswd",name:"changepasswd",components:{menuView:a(13),default:a(638)},meta:{title:"修改密码",auth:!0}},{path:"/user/list",name:"userList",components:{menuView:a(13),default:a(639)},meta:{title:"用户列表",auth:!0}},{path:"",redirect:"/home"},{path:"*",name:"notPage",components:{fullView:a(623)}}],d=new o.a({routes:c,mode:"hash",scrollBehavior:function(t,e,a){return a||{x:0,y:0}}});d.beforeEach(function(t,e,a){n.a.start();var s=t.name,o=l.a.state.user_info.login;o||"searchtaskList"!==s?o||"searchtaskRelease"!==s?o||"login"===s?o&&"login"===s?a({path:"/task/list"}):a():a({name:"login"}):a({}):a()}),d.afterEach(function(t){n.a.done()}),e.a=d},function(t,e,a){"use strict";a.d(e,"a",function(){return s});var s="SET_USER_INFO"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){var s=a(3)(a(278),a(642),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(285),a(662),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(290),a(650),null,null);t.exports=s.exports},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(50),o=a.n(s),l=a(596),r=(a.n(l),a(581)),n=a.n(r),i=a(595),c=(a.n(i),a(598)),d=(a.n(c),a(23)),u=a(166),p=a(325),m=a(26),f=a(324),_=a(612),h=a.n(_);d.default.use(n.a),d.default.use(f.a),d.default.use(p.a),d.default.config.productionTip=!1,new d.default(o()({router:u.a,store:m.a},h.a)).$mount("mainbody")},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(14);e.default={name:"app",components:{mainContent:s.a}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{nav_menu_data:[{title:"退出",path:"/user/login",icon:"fa-arrow-left"}]}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(26);e.default={data:function(){return 1==s.a.state.user_info.user.Role?{nav_menu_data:[{title:"主页",path:"/home",icon:"fa-home"},{title:"项目配置",path:"/conf/list",icon:"el-icon-menu"},{title:"上线单",path:"/task",icon:"fa-table",child:[{title:"全部上线单",path:"/task/list"},{title:"我的上线单",path:"/task/mylist"},{title:"创建上线单",path:"/task/create"}]},{title:"其他操作",path:"/other",icon:"fa-bar-chart-o",child:[{title:"agent状态查询",path:"/p2p/check",icon:"ace-icon fa fa-desktop"}]},{title:"用户管理",path:"/user",icon:"el-icon-setting",child:[{title:"用户列表",path:"/user/list",icon:"ace-icon fa fa-desktop"}]}]}:{nav_menu_data:[{title:"主页",path:"/home",icon:"fa-home"},{title:"上线单",path:"/task",icon:"fa-table",child:[{title:"我的上线单",path:"/task/mylist"},{title:"创建上线单",path:"/task/create"}]}]}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={computed:{getYear:function(){return(new Date).getFullYear()}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(616),o=a.n(s),l=a(232),r=a.n(l);e.default={components:{menuRight:o.a,search:r.a},methods:{submit_search:function(t){this.$message({message:t,type:"success"})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(50),o=a.n(s),l=a(7),r=(a.n(l),a(85)),n=a(111),i=a(65),c=a(26);e.default={computed:o()({},a.i(r.a)({get_user_info:n.a})),methods:o()({},a.i(r.b)({set_user_info:i.a}),{user_out:function(){var t=this;this.$confirm("此操作将退出登录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http.post(l.port_user.logout).then(function(e){var a=e.data.msg;t.$message({message:a,type:"success"}),t.set_user_info(null),setTimeout(function(){t.$router.replace({name:"login"})},500)})}).catch(function(){})},user_info:function(){this.$router.push({path:"/user/changepasswd"})},admin_setting:function(){1==c.a.state.user_info.user.Role&&this.$router.push({path:"/user/register"})},user_click:function(t){switch(t){case 0:this.user_out();break;case 1:this.user_info();break;case 2:this.admin_setting()}}})}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(615),o=a.n(s),l=a(614),r=a.n(l);e.default={components:{hSection:o.a,vFooter:r.a}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{title:{type:String}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{placeholder:{type:String,default:"Search here..."}},data:function(){return{formValue:""}},computed:{valueIsNull:function(){return""===this.formValue.trim()}},methods:{submit_form:function(){return this.valueIsNull||this.$emit("search",this.formValue),!1}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{action:{type:String,require:!0},headers:{type:Object},multiple:{type:Boolean,default:!1},data:{type:Object},name:{type:String,default:"file"},withCredentials:{type:Boolean,default:!1},showFileList:{type:Boolean,default:!1},drag:{type:Boolean,default:!1},accept:{type:String},onPreview:{type:Function},onSuccess:{type:Function},onRemove:{type:Function},beforeUpload:{type:Function}},data:function(){return{upload_file:null}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(112),o=a.n(s),l=a(7);a.n(l);e.default={props:["taskId","isJson"],data:function(){return{showText:[],taskid:1*this.taskId,action:0,time:Date.parse(new Date)/1e3-10}},computed:{test1:function(){this.get_data()},isShowStep:function(){return 1*this.taskId>0}},created:function(){this.get_data();var t=this;this.intervalid1=setInterval(function(){t.get_data()},2e3)},beforeDestroy:function(){this.time=Date.parse(new Date)/1e3,clearInterval(this.intervalid1)},methods:{get_data:function(){var t=this;this.$http.get(l.port_record.list,{params:{taskId:this.taskId,time:this.time}}).then(function(e){var a=e.data.data;t.showText=[];for(var s=0,o=0;o<a.length;o++){var l="#00ff00";"0"==a[o].status&&(l="red"),t.showText.push({text:a[o].command,color:l});var r=a[o].memo;try{var r=JSON.parse(a[o].memo)}catch(t){}if("string"==typeof r)t.showText.push({text:a[o].memo,color:l});else if("[object Array]"==Object.prototype.toString.call(r))for(var n=0;n<r.length;n++)try{t.showText.push({text:"IP:"+r[n].Host,color:l}),r[n].ErrorInfo?t.showText.push({text:"错误结果:\n"+r[n].Result,color:l}):t.showText.push({text:"执行结果:\n"+r[n].Result,color:l}),r[n].ErrorInfo&&t.showText.push({text:"错误:"+r[n].ErrorInfo,color:l}),t.showText.push({text:"=============",color:l})}catch(t){}else t.showText.push({text:"执行结果:\n"+r.Result,color:l}),r.ErrorInfo&&t.showText.push({text:"错误:"+r.ErrorInfo,color:l}),t.showText.push({text:"=============",color:l});s<a[o].action/10&&(s=a[o].action/10)}10==s&&(setTimeout(clearInterval(t.intervalid1),5e3),t.showText.push({text:"发布完成",color:l})),t.action=s}).catch(function(){})},formatJson:function(t,e){var a=null,s="",l=0;e=e||{},e.newlineAfterColonIfBeforeBraceOrBracket=!0===e.newlineAfterColonIfBeforeBraceOrBracket,e.spaceAfterColon=!1!==e.spaceAfterColon,"string"!=typeof t?t=o()(t):(t=JSON.parse(t),t=o()(t)),a=/([\{\}])/g,t=t.replace(a,"\r\n$1\r\n"),a=/([\[\]])/g,t=t.replace(a,"\r\n$1\r\n"),a=/(\,)/g,t=t.replace(a,"$1\r\n"),a=/(\r\n\r\n)/g,t=t.replace(a,"\r\n"),a=/\r\n\,/g,t=t.replace(a,","),e.newlineAfterColonIfBeforeBraceOrBracket||(a=/\:\r\n\{/g,t=t.replace(a,":{"),a=/\:\r\n\[/g,t=t.replace(a,":[")),e.spaceAfterColon&&(a=/\:/g,t=t.replace(a,":"));for(var r in t.split("\r\n")){var n=t.split("\r\n")[r],i=0,c=0,d="";for(n.match(/\{$/)||n.match(/\[$/)?c=1:n.match(/\}/)||n.match(/\]/)?0!==l&&(l-=1):c=0,i=0;i<l;i++)d+="    ";s+=d+n+"\r\n",l+=c}return s}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(14),o=a(7);a.n(o);e.default={data:function(){return{table_data:null,currentPage:1,total:0,length:15,load_data:!0,batch_select:[],select_info:"",project_data:[]}},components:{panelTitle:s.b,bottomToolBar:s.c,search:s.d},created:function(){this.get_table_data()},methods:{submit_search:function(t){this.select_info=t,this.$message({message:t,type:"success"}),this.get_table_data()},open:function(t){var e=this;this.$http.get(o.port_conf.get,{params:{projectId:t}}).then(function(t){var a=t.data.data;console.log(a),e.project_data=a}).catch(function(){})},on_refresh:function(){this.select_info="",this.get_table_data()},get_table_data:function(){var t=this;this.load_data=!0,this.$http.get(o.port_conf.list,{params:{page:this.currentPage,length:this.length,select_info:this.select_info}}).then(function(e){var a=e.data.data;t.table_data=a.table_data,t.currentPage=a.currentPage,t.total=a.total,t.load_data=!1}).catch(function(){t.load_data=!1})},delete_data:function(t){var e=this;this.$confirm("此操作将删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.load_data=!0,e.$http.get(o.port_conf.del,{params:{projectId:t}}).then(function(t){var a=t.data.msg;e.get_table_data(),e.$message({message:a,type:"success"})}).catch(function(){e.load_data=!1})}).catch(function(){e.load_data=!1})},copy_data:function(t){var e=this;this.$confirm("是否复制项目?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.load_data=!0,e.$http.get(o.port_conf.copy,{params:{projectId:t}}).then(function(t){var a=t.data.msg;e.get_table_data(),e.$message({message:a,type:"success"})}).catch(function(){e.load_data=!1})}).catch(function(){e.load_data=!1})},handleCurrentChange:function(t){this.currentPage=t,this.get_table_data()}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(14),o=a(7);a.n(o),a(25);e.default={data:function(){return{route_id:this.$route.params.id,load_data:!1}},created:function(){var t=this;this.route_id?this.detection_data():(this.$message({message:"项目id不存在",type:"warning"}),setTimeout(function(){t.$router.push({name:"confList"})},500))},methods:{detection_data:function(){var t=this;this.$http.get(o.port_conf.detection,{params:{projectId:this.route_id}}).then(function(e){e.data.data;t.$message({message:"检测成功",type:"success"})}).catch(function(){})}},components:{panelTitle:s.b,terminal:s.e}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(14),o=a(7);a.n(o),a(25);e.default={data:function(){return{options:[{value:"git",label:"git"},{value:"file",label:"file"},{value:"jenkins",label:"jenkins"}],hosts:[],pmsOptions:{},form:{Name:null,Level:2,RepoType:"git",RepoUrl:null,DeployFrom:null,Excludes:null,ReleaseUser:null,ReleaseTo:null,ReleaseLibrary:null,RepoPassword:null,RepoUsername:null,KeepVersionNum:20,Hosts:null,Status:1,RepoMode:"branch",Audit:0,P2p:0,Gzip:1,IsGroup:0},route_id:this.$route.params.id,load_data:!1,on_submit_loading:!1,rules:{Name:[{required:!0,message:"项目名称不能为空",trigger:"blur"}],RepoUrl:[{required:!0,message:"项目地址不能为空",trigger:"blur"}],DeployFrom:[{required:!0,message:"代码检出仓库不能为空",trigger:"blur"}],ReleaseUser:[{required:!0,message:"目标机器部署代码用户不能为空。",trigger:"blur"}],ReleaseTo:[{required:!0,message:"代码的webroot不能为空",trigger:"blur"}],ReleaseLibrary:[{required:!0,message:"发布版本库不能为空。",trigger:"blur"}],Hosts:[{required:!0,message:"机器列表不能为空。",trigger:"blur"}]}}},created:function(){this.route_id&&this.get_form_data()},methods:{add_data:function(){this.hosts.push("")},delete_data:function(t){this.hosts.splice(t,1)},handleClick:function(t,e){this.RepoType=t.name},get_form_data:function(){var t=this;this.load_data=!0,this.$http.get(o.port_conf.get,{params:{projectId:this.route_id}}).then(function(e){var a=e.data.data;if(t.form=a,t.form.IsGroup){var s=t.form.Hosts.split("\n");for(var o in s){var l=s[o].split("#");if(2==l.length){l[1]=l[1].replace(new RegExp("\n","g"),""),l[1]=l[1].replace(new RegExp("\r","g"),"");var r=(0|l[0])-1;r>-1&&(t.hosts[r]?t.hosts[r]=t.hosts[r]+l[1]+"\r\n":t.hosts[r]=l[1]+"\r\n")}}for(var o in t.hosts)t.hosts[o]=t.hosts[o].trim("\r\n")}t.load_data=!1}).catch(function(){t.load_data=!1})},on_change_birthday:function(t){this.$set(this.form,"birthday",t)},on_submit_form:function(){var t=this;this.$refs.form.validate(function(e){if(!e)return!1;if(t.form.IsGroup){t.form.Hosts="";for(var a in t.hosts)for(var s=1+(0|a),l=t.hosts[a].split("\n"),r=0;r<l.length;r++)l[r]=l[r].replace(new RegExp("\n","g"),""),l[r]=l[r].replace(new RegExp("\r","g"),""),l[r]&&""!=l[r]&&(t.form.Hosts=t.form.Hosts+s+"#"+l[r]+"\r\n");t.form.Hosts=t.form.Hosts.trim("\r\n")}t.on_submit_loading=!0,t.$http.post(o.port_conf.save,t.form).then(function(e){var a=e.data.msg;t.$message({message:a,type:"success"}),setTimeout(function(){t.$router.back()},500)}).catch(function(){t.on_submit_loading=!1})})}},components:{panelTitle:s.b}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(14),o=a(7);a.n(o);e.default={data:function(){return{echarts_instance:null,msg1:"本日共发布",msg2:"本周共发布",msg3:"本月共发布",mapHeight:2e3,activeName:"chartsD",totalmem:null,totalpub:null,totalproject:null,totalpubsuccess:null,hostsum:null}},created:function(){this.get_echarts_instance()},destroyed:function(){this.echarts_instance=null},methods:{handleClick:function(t,e){"chartsD"==t.name&&this.create_charts(t.name,"dayBypro"),"chartsE"==t.name&&this.create_charts(t.name,"weekBypro"),"chartsF"==t.name&&this.create_charts(t.name,"monthBypro")},get_echarts_instance:function(){var t=this;a.e(0).then(function(){var e=[a(679)];(function(e){t.echarts_instance=e,t.create_chartsA(),t.create_chartsB(),t.create_chartsC(),t.create_totalmen(),t.create_charts("chartsD","dayBypro")}).apply(null,e)}).catch(a.oe)},create_totalmen:function(){var t=this;this.$http.get(o.port_task.chart,{params:{taskType:"total"}}).then(function(e){var a=e.data.data;t.totalmem=a.totalmen,t.totalproject=a.totalproject,t.totalpub=a.totalpub,t.totalpubsuccess=a.totalpubsuccess,a.totalpub&&(t.totalpubsuccess=100*(t.totalpubsuccess/a.totalpub).toFixed(2)),t.hostsum=a.hostsum}).catch(function(){})},create_chartsA:function(){var t=this,e=this.$refs.chartsA,a=this.echarts_instance.init(e);this.$http.get(o.port_task.chart,{params:{taskType:"day"}}).then(function(e){var s=e.data.data,o=[],l=[],r=0;for(var n in s)r+=1*s[n].task_count,o.push({value:s[n].task_count,name:s[n].name}),l.push(s[n].name);t.msg1="本日共发布"+r+"单";var i={title:{text:"本日发布",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:l},series:[{name:"发布类别",type:"pie",radius:"60%",center:["50%","60%"],data:o,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};a.setOption(i)}).catch(function(){})},create_chartsB:function(){var t=this,e=this.$refs.chartsB,a=this.echarts_instance.init(e);this.$http.get(o.port_task.chart,{params:{taskType:"week"}}).then(function(e){var s=e.data.data,o=[],l=[],r=0;for(var n in s)r+=1*s[n].task_count,o.push({value:s[n].task_count,name:s[n].name}),l.push(s[n].name);t.msg2="本周共发布"+r+"单";var i={title:{text:"本周发布",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:l},series:[{name:"发布类别",type:"pie",radius:"60%",center:["50%","60%"],data:o,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};a.setOption(i)}).catch(function(){})},create_chartsC:function(){var t=this,e=this.$refs.chartsC,a=this.echarts_instance.init(e);this.$http.get(o.port_task.chart,{params:{taskType:"month"}}).then(function(e){var s=e.data.data,o=[],l=[],r=0;s.sort(function(t,e){return t.task_count>e.task_count}),console.log(s);for(var n=0;n<s.length;n++)r+=1*s[n].task_count,o.push({value:s[n].task_count,name:s[n].name}),l.push(s[n].name);t.msg3="本月共发布"+r+"单";var i={title:{text:"本月发布",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:l},series:[{name:"发布类别",type:"pie",radius:"60%",center:["50%","60%"],data:o,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};a.setOption(i)}).catch(function(){})},create_charts:function(t,e){var a=this;this.$http.get(o.port_task.chart,{params:{taskType:e}}).then(function(e){for(var s=e.data.data,o=[],l=[],r=[],n=0;n<s.length;n++)r.push({name:s[n].name,task_count:s[n].task_count/1});r.sort(function(t,e){return t.task_count-e.task_count});for(var n=0;n<r.length;n++)o.push(r[n].task_count),l.push(r[n].name);var i={tooltip:{trigger:"axis",axisPointer:{type:"line"}},legend:{data:["发布次数"]},grid:{left:"16px",right:"16px",bottom:"16px",top:"40px",containLabel:!0},yAxis:[{type:"category",data:l,axisLabel:{interval:0}}],xAxis:[{type:"value"}],series:[{name:"发布次数",type:"bar",data:o}]},c=a.$refs[t];c.style.height=20*s.length+200+"px",a.echarts_instance.init(c).setOption(i)}).catch(function(){})}},components:{panelTitle:s.b}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(14),o=a(7);a.n(o);e.default={data:function(){return{day_data:null,week_data:null,month_data:null,total:0,length:15,load_data:!1,load_data1:!1,select_info:"",project_data:[],msg1:"本日共有个项目未自动预发布",msg2:"本周共有个项目未自动预发布",msg3:"本月共有个项目未自动预发布"}},components:{panelTitle:s.b,bottomToolBar:s.c},created:function(){this.get_day_data(),this.get_week_data(),this.get_month_data()},methods:{get_day_data:function(){var t=this;this.load_data=!0,this.$http.get(o.port_other.noauto,{params:{taskType:"day"}}).then(function(e){var a=e.data.data;t.day_data=a,t.msg1="本日共有"+a.length+"个项目未自动预发布",t.load_data=!1}).catch(function(){t.load_data=!1})},get_week_data:function(){var t=this;this.load_data=!0,this.$http.get(o.port_other.noauto,{params:{taskType:"week"}}).then(function(e){var a=e.data.data;t.week_data=a,t.msg2="本周共有"+a.length+"个项目未自动预发布",t.load_data=!1}).catch(function(){t.load_data=!1})},get_month_data:function(){var t=this;this.load_data=!0,this.$http.get(o.port_other.noauto,{params:{taskType:"month"}}).then(function(e){var a=e.data.data;t.month_data=a,t.msg3="本月共有"+a.length+"个项目未自动预发布",console.log(t.month_data),t.load_data=!1}).catch(function(){t.load_data=!1})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(14),o=a(7);a.n(o);e.default={data:function(){return{table_data:null,total:0,load_data:!1,load_data1:!1,batch_select:[],select_info:"",project_data:[],msg1:"Agent",msg2:"按项目ID查询"}},components:{panelTitle:s.b,bottomToolBar:s.c,search:s.d},created:function(){this.get_table_data()},methods:{submit_search:function(t){var e=this;this.project_data=[],this.select_info=t,this.load_data1=!0,this.$http.get(o.port_p2p.check,{params:{type:"1",projectId:this.select_info}}).then(function(t){var a=t.data.data;for(var s in a)e.project_data.push({ip:s,status:a[s]});e.load_data1=!1}).catch(function(){e.load_data1=!1})},send_data:function(){var t=this;this.load_data1=!0,this.$http.get(o.port_p2p.send,{params:{projectId:this.select_info}}).then(function(e){var a=e.data.msg;t.$message({message:a,type:"success"}),t.submit_search(t.select_info),t.load_data1=!1}).catch(function(){t.load_data1=!1})},restart_agent:function(){var t=this;this.load_data1=!0,this.$http.get(o.port_p2p.agent,{params:{projectId:this.select_info}}).then(function(e){var a=e.data.msg;console.log(a),t.$message({message:a,type:"success"}),t.submit_search(t.select_info),t.load_data1=!1}).catch(function(){t.load_data1=!1})},get_table_data:function(){var t=this;this.load_data=!0,this.$http.get(o.port_p2p.check,{params:{type:"0"}}).then(function(e){var a=e.data.data;t.table_data=a,console.log(t.table_data),t.load_data=!1}).catch(function(){t.load_data=!1})},handleCurrentChange:function(t){this.currentPage=t,this.get_table_data()}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(14),o=a(7);a.n(o);e.default={data:function(){return{table_data:null,currentPage:1,total:0,length:15,load_data:!0,batch_select:[],select_info:""}},components:{panelTitle:s.b,bottomToolBar:s.c,search:s.d},created:function(){this.get_table_data()},methods:{submit_search:function(t){this.select_info=t,this.$message({message:t,type:"success"}),this.get_table_data()},on_refresh:function(){this.select_info="",this.get_table_data()},get_table_data:function(){var t=this;console.log(this.currentPage),this.load_data=!0,this.$http.get(o.port_task.list,{params:{page:this.currentPage,length:this.length,select_info:this.select_info}}).then(function(e){var a=e.data.data;t.table_data=a.table_data,t.currentPage=a.currentPage,t.total=a.total,t.load_data=!1}).catch(function(){t.load_data=!1})},delete_data:function(t){var e=this;this.$confirm("此操作将删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.load_data=!0,e.$http.get(o.port_task.del,{params:{taskId:t}}).then(function(t){var a=t.data.msg;e.get_table_data(),e.$message({message:a,type:"success"}),e.load_data=!1}).catch(function(){e.load_data=!1})}).catch(function(){e.load_data=!1})},handleCurrentChange:function(t){this.currentPage=t,this.get_table_data()},create_rollback_this:function(t){var e=this;this.$confirm("此操作将回滚项目到当前版本, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.load_data=!0,e.$http.get(o.port_task.rollback,{params:{taskId:t,this:"this"}}).then(function(t){var a=t.data.data;e.$message({message:"success",type:"success"}),setTimeout(function(){e.$router.push({name:"taskRelease",params:{id:a.Id}})},500)}).catch(function(){e.load_data=!1})}).catch(function(){e.load_data=!1})},create_rollback:function(t){var e=this;this.$confirm("此操作将回滚任务, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.load_data=!0,e.$http.get(o.port_task.rollback,{params:{taskId:t}}).then(function(t){var a=t.data.data;e.$message({message:"success",type:"success"}),setTimeout(function(){e.$router.push({name:"taskRelease",params:{id:a.Id}})},500)}).catch(function(){e.load_data=!1})}).catch(function(){e.load_data=!1})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(14),o=a(7);a.n(o),a(25);e.default={data:function(){return{projects:null,options:[],options1:[],pro_id:null,pro_id1:null,load_data:!1,on_submit_loading:!1}},created:function(){this.get_project_data()},methods:{get_project_data:function(){var t=this;this.load_data=!0,this.$http.get(o.port_conf.mylist).then(function(e){var a=e.data.data,s=[],o=[],l=[];for(var r in a.table_data){var n=a.table_data[r].id,i="";if(1==a.table_data[r].level){i="测试环境";var c=i+"-"+a.table_data[r].name;l.push({label:c,value:n})}if(2==a.table_data[r].level){i="预发布环境";var c=i+"-"+a.table_data[r].name;s.push({label:c,value:n})}if(3==a.table_data[r].level){i="正式环境";var c=i+"-"+a.table_data[r].name;o.push({label:c,value:n})}}t.projects=a.table_data,t.options=s,t.options1=o,t.load_data=!1,t.$route.query.id&&(t.pro_id=t.$route.query.id,t.on_submit_form())}).catch(function(){t.load_data=!1})},on_submit_form:function(){var t=0;if(t=this.pro_id?this.pro_id:this.pro_id1)for(var e in this.projects){var a=this.projects[e];if(t==a.id){if(console.log(a.repo_type),"git"==a.repo_type)return void this.$router.push({name:"taskGit",query:{id:t}});if("file"==a.repo_type)return void this.$router.push({name:"taskFile",query:{id:t}});if("jenkins"==a.repo_type)return void this.$router.push({name:"taskJenkins",query:{id:t}})}}}},components:{panelTitle:s.b}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(14),o=a(7),l=(a.n(o),a(25),a(26));e.default={data:function(){return{isShowHost:!1,Hosts:[],selectHosts:[],ProjectData:null,md5:null,fileName:"",isRightMd5:!1,isChange:!0,form:{FileMd5:null,Title:null,CommitId:null,Hosts:null,ProjectId:1*this.$route.query.id,UserId:l.a.state.user_info.user.Id},route_id:this.$route.query.id,load_data:!1,on_submit_loading:!1,rules:{Title:[{required:!0,message:"标题不能为空",trigger:"blur"}]}}},created:function(){var t=this;this.route_id?this.get_Project_data():(this.$message({message:"项目id不存在",type:"warning"}),setTimeout(function(){t.$router.push({name:"taskMyList"})},500))},methods:{get_Project_data:function(){var t=this;this.load_data=!0,this.$http.get(o.port_conf.get,{params:{projectId:this.form.ProjectId}}).then(function(e){var a=e.data.data;t.ProjectData=a,t.Hosts=[];for(var s=t.ProjectData.Hosts.match(/((\d+)\.(\d+)\.(\d+)\.(\d+)\:(\d+))|((\d+)\.(\d+)\.(\d+)\.(\d+))/g),o=0;o<s.length;o++)t.Hosts.push({label:s[o],value:s[o]});t.load_data=!1}).catch(function(){t.load_data=!1})},change_data:function(){this.isChange=!0},change_md5data:function(){this.isChange=!0},get_md5_data:function(){var t=this;this.load_data=!0,this.md5=null,this.$http.get(o.port_file.md5,{params:{projectId:this.route_id,url:this.form.CommitId}}).then(function(e){var a=e.data.data;t.md5=a[0].message,t.fileName=a[0].id,t.isChange=!1,t.check_md5(),t.load_data=!1}).catch(function(){t.load_data=!1})},check_md5:function(){this.form.FileMd5&&this.form.FileMd5.trim()&&this.form.FileMd5!=this.md5?(this.isRightMd5=!1,this.$message({message:"md5不相等，"+this.fileName+":"+this.md5,type:"warning"})):(this.isRightMd5=!0,this.$message({message:"验证成功",type:"success"}))},on_submit_form:function(){var t=this;this.$refs.form.validate(function(e){return!!e&&(!t.isRightMd5||t.isChange?(t.$message({message:"没有检查MD5",type:"warning"}),!1):(t.isShowHost&&(t.form.Title=t.form.Title+"-灰度",t.form.Hosts=t.selectHosts.toString()),t.on_submit_loading=!0,void t.$http.post(o.port_task.save,t.form).then(function(e){e.data.data;t.$message({message:"修改成功",type:"success"}),setTimeout(function(){t.$router.push({name:"taskMyList"})},500)}).catch(function(){t.on_submit_loading=!1})))})}},components:{panelTitle:s.b}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(14),o=a(7);a.n(o),a(25);e.default={data:function(){return{projects:null,options:[],pro_id:[],load_data:!1,on_submit_loading:!1}},created:function(){this.get_project_data()},methods:{get_project_data:function(){var t=this;this.load_data=!0,this.$http.get(o.port_conf.list).then(function(e){var a=e.data.data,s=[];for(var o in a.table_data){var l=a.table_data[o].id,r="";1==a.table_data[o].level&&(r="测试环境"),2==a.table_data[o].level&&(r="预发布环境"),3==a.table_data[o].level&&(r="正式环境");var n=r+"-"+a.table_data[o].name;s.push({label:n,value:l})}t.projects=a.table_data,t.options=s,t.load_data=!1}).catch(function(){t.load_data=!1})},on_submit_form:function(){var t=this;this.on_submit_loading=!0,this.pro_id.length>0&&this.$http.get(o.port_task.flush,{params:{projectIds:this.pro_id.join(",")}}).then(function(e){var a=e.data.data;console.log(a),t.load_data=!1,t.on_submit_loading=!1}).catch(function(){t.load_data=!1,t.on_submit_loading=!1})}},components:{panelTitle:s.b,terminal:s.e}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(14),o=a(7),l=(a.n(o),a(25),a(26));e.default={data:function(){return{commitData:[],branchData:[],tagData:[],isShowHost:!1,isShowStatus:!1,Hosts:[],selectHosts:[],ProjectData:null,isShowValue:2,form:{Branch:null,Tag:null,Title:null,CommitId:null,Hosts:null,ProjectId:1*this.$route.query.id,UserId:l.a.state.user_info.user.Id},route_id:this.$route.query.id,load_data:!1,on_submit_loading:!1,rules:{Tag:[{required:!0,message:"分支不能为空",trigger:"blur"}],Branch:[{required:!0,message:"分支不能为空",trigger:"blur"}],CommitId:[{required:!0,message:"Commit不能为空",trigger:"blur"}],Title:[{required:!0,message:"标题不能为空",trigger:"blur"}]}}},created:function(){var t=this;this.route_id?(this.get_tag_data(),this.get_branch_data(),this.get_Project_data()):(this.$message({message:"项目id不存在",type:"warning"}),setTimeout(function(){t.$router.push({name:"taskMyList"})},500))},methods:{get_Project_data:function(){var t=this;this.load_data=!0,this.$http.get(o.port_conf.get,{params:{projectId:this.form.ProjectId}}).then(function(e){var a=e.data.data;t.ProjectData=a,t.Hosts=[];for(var s=t.ProjectData.Hosts.match(/((\d+)\.(\d+)\.(\d+)\.(\d+)\:(\d+))|((\d+)\.(\d+)\.(\d+)\.(\d+))/g),o=0;o<s.length;o++)t.Hosts.push({label:s[o],value:s[o]});t.load_data=!1}).catch(function(){t.load_data=!1})},get_commit:function(){var t=this;this.load_data=!0,this.$http.get(o.port_git.commit,{params:{projectId:this.route_id,branch:this.form.Branch}}).then(function(e){for(var a=e.data.data,s=[],o="",l=0;l<a.length;l++)0==l&&(o=a[l].id),s.push({label:a[l].message,value:a[l].id});t.commitData=s,t.CommitId=o,t.load_data=!1}).catch(function(){t.load_data=!1})},get_branch_data:function(){var t=this;this.load_data=!0,this.commitData=[],this.form.Branch=null,this.form.CommitId=null,this.$http.get(o.port_git.branch,{params:{projectId:this.route_id}}).then(function(e){var a=e.data.data,s=[];for(var o in a)s.push({label:a[o].message,value:a[o].id});t.branchData=s,t.load_data=!1}).catch(function(){t.load_data=!1})},get_tag_data:function(){var t=this;this.load_data=!0,this.$http.get(o.port_git.getTag,{params:{projectId:this.form.ProjectId}}).then(function(e){var a=e.data.data,s=[];for(var o in a)""!==a[o].id&&s.push({label:a[o].message,value:a[o].id});console.log("---\x3e",s),t.tagData=s,t.load_data=!1}).catch(function(){t.load_data=!1})},on_submit_form:function(){var t=this;this.$refs.form.validate(function(e){if(!e)return!1;t.on_submit_loading=!0,t.isShowHost&&(t.form.Title=t.form.Title+"-灰度",t.form.Hosts=t.selectHosts.toString()),t.$http.post(o.port_task.save,t.form).then(function(e){e.data.data;t.$message({message:"修改成功",type:"success"}),setTimeout(function(){t.$router.push({name:"taskMyList"})},500)}).catch(function(){t.on_submit_loading=!1})})},showStatus:function(){1===this.isShowValue?(this.isShowStatus=!0,this.form.CommitId=null,this.form.Branch=null):(this.isShowStatus=!1,this.form.CommitId=null,this.form.Branch=null)}},components:{panelTitle:s.b}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(14),o=a(7);a.n(o),a(25);e.default={data:function(){return{projects:null,options:[],pro_id:[],load_data:!1,on_submit_loading:!1}},created:function(){this.get_project_data()},methods:{get_project_data:function(){var t=this;this.load_data=!0,this.$http.get(o.port_conf.list).then(function(e){var a=e.data.data,s=[];for(var o in a.table_data)if(2==a.table_data[o].level){var l=a.table_data[o].id,r="";1==a.table_data[o].level&&(r="测试环境"),2==a.table_data[o].level&&(r="预发布环境"),3==a.table_data[o].level&&(r="正式环境");var n=r+"-"+a.table_data[o].name;s.push({label:n,value:l})}t.projects=a.table_data,t.options=s,t.load_data=!1}).catch(function(){t.load_data=!1})},on_submit_form:function(){var t=this;this.on_submit_loading=!0,this.pro_id&&this.$http.get(o.port_git.gitpull,{params:{projectId:this.pro_id}}).then(function(e){var a=e.data.data;console.log(a),t.on_submit_loading=!1}).catch(function(){t.on_submit_loading=!1})},on_git_log:function(){var t=this;this.on_submit_loading=!0,this.pro_id&&this.$http.get(o.port_git.gitlog,{params:{projectId:this.pro_id}}).then(function(e){var a=e.data.data;console.log(a),t.on_submit_loading=!1}).catch(function(){t.on_submit_loading=!1})}},components:{panelTitle:s.b,terminal:s.e}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(14),o=a(7),l=(a.n(o),a(25),a(26));e.default={data:function(){return{commitData:[],branchData:[],isShowHost:!1,Hosts:[],selectHosts:[],ProjectData:null,form:{Branch:null,Title:null,CommitId:null,Hosts:null,ProjectId:1*this.$route.query.id,UserId:l.a.state.user_info.user.Id},route_id:this.$route.query.id,load_data:!1,on_submit_loading:!1,rules:{Branch:[{required:!0,message:"分支不能为空",trigger:"blur"}],CommitId:[{required:!0,message:"Commit不能为空",trigger:"blur"}],Title:[{required:!0,message:"标题不能为空",trigger:"blur"}]}}},created:function(){var t=this;this.route_id?(this.get_branch_data(),this.get_Project_data()):(this.$message({message:"项目id不存在",type:"warning"}),setTimeout(function(){t.$router.push({name:"taskMyList"})},500))},methods:{get_Project_data:function(){var t=this;this.load_data=!0,this.$http.get(o.port_conf.get,{params:{projectId:this.form.ProjectId}}).then(function(e){var a=e.data.data;t.ProjectData=a,t.Hosts=[];for(var s=t.ProjectData.Hosts.match(/((\d+)\.(\d+)\.(\d+)\.(\d+)\:(\d+))|((\d+)\.(\d+)\.(\d+)\.(\d+))/g),o=0;o<s.length;o++)t.Hosts.push({label:s[o],value:s[o]});t.load_data=!1}).catch(function(){t.load_data=!1})},get_commit:function(){this.form.CommitId=null;for(var t=0;t<this.branchData.length;t++)console.log(this.branchData[t]),this.branchData[t].label==this.form.Branch&&(this.form.CommitId=this.branchData[t].value)},get_branch_data:function(){var t=this;this.load_data=!0,this.commitData=[],this.form.Branch=null,this.form.CommitId=null,this.$http.get(o.port_git.jenkinsBranch,{params:{projectId:this.route_id}}).then(function(e){var a=e.data.data,s=[];for(var o in a)s.push({label:a[o].build,value:a[o].tar_url});t.branchData=s,t.load_data=!1}).catch(function(){t.load_data=!1})},on_submit_form:function(){var t=this;this.$refs.form.validate(function(e){if(!e)return!1;t.on_submit_loading=!0,t.isShowHost&&(t.form.Title=t.form.Title+"-灰度",t.form.Hosts=t.selectHosts.toString()),t.$http.post(o.port_task.save,t.form).then(function(e){e.data.data;t.$message({message:"修改成功",type:"success"}),setTimeout(function(){t.$router.push({name:"taskMyList"})},500)}).catch(function(){t.on_submit_loading=!1})})}},components:{panelTitle:s.b}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(14),o=a(7),l=(a.n(o),a(26));e.default={data:function(){return{table_data:null,currentPage:1,total:0,length:15,load_data:!0,batch_select:[],select_info:""}},components:{panelTitle:s.b,bottomToolBar:s.c,search:s.d},created:function(){this.get_table_data()},methods:{submit_search:function(t){this.select_info=t,this.$message({message:t,type:"success"}),this.get_table_data()},on_refresh:function(){this.select_info="",this.get_table_data()},get_table_data:function(){var t=this;console.log(l.a.state.user_info.user.Id),this.load_data=!0,this.$http.get(o.port_task.list,{params:{page:this.currentPage,length:this.length,select_info:this.select_info,my:l.a.state.user_info.user.Id}}).then(function(e){var a=e.data.data;t.table_data=a.table_data,t.currentPage=a.currentPage,t.total=a.total,t.load_data=!1}).catch(function(){t.load_data=!1})},delete_data:function(t){var e=this;this.$confirm("此操作将删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.load_data=!0,e.$http.get(o.port_task.del,{params:{taskId:t}}).then(function(t){var a=t.data.msg;e.get_table_data(),e.$message({message:a,type:"success"})}).catch(function(){e.load_data=!1})}).catch(function(){e.load_data=!1})},handleCurrentChange:function(t){this.currentPage=t,this.get_table_data()},create_rollback_this:function(t){var e=this;this.$confirm("此操作将回滚项目到当前版本, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.load_data=!0,e.$http.get(o.port_task.rollback,{params:{taskId:t,this:"this"}}).then(function(t){var a=t.data.data;e.$message({message:"success",type:"success"}),setTimeout(function(){e.$router.push({name:"taskRelease",params:{id:a.Id}})},500)}).catch(function(){e.load_data=!1})}).catch(function(){e.load_data=!1})},create_rollback:function(t){var e=this;this.$confirm("此操作将回滚任务, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.load_data=!0,e.$http.get(o.port_task.rollback,{params:{taskId:t}}).then(function(t){var a=t.data.data;e.$message({message:"success",type:"success"}),setTimeout(function(){e.$router.push({name:"taskRelease",params:{id:a.Id}})},500)}).catch(function(){e.load_data=!1})}).catch(function(){e.load_data=!1})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(14),o=a(7),l=(a.n(o),a(25),a(26));e.default={data:function(){return{task:{},project:{},form:{Branch:null,Title:null,CommitId:null,ProjectId:1*this.$route.params.id,UserId:l.a.state.user_info.user.Id},route_id:this.$route.params.id,is_log:this.$route.params.is_log,load_data:!1,on_submit_loading:!1,rules:{Branch:[{required:!0,message:"分支不能为空",trigger:"blur"}],CommitId:[{required:!0,message:"Commit不能为空",trigger:"blur"}],Title:[{required:!0,message:"标题不能为空",trigger:"blur"}]}}},computed:{getHost:function(){var t=[];return this.task.Hosts&&""!=this.task.Hosts?t=this.task.Hosts.split("\r\n"):this.project.Hosts&&""!=this.project.Hosts&&(t=this.project.Hosts.split("\r\n")),t},levelEnv:function(){var t="";return 1==this.project.Level&&(t="测试环境"),2==this.project.Level&&(t="预发布环境"),3==this.project.Level&&(t="正式环境"),t}},created:function(){var t=this;this.route_id?this.get_task():(this.$message({message:"任务id不存在",type:"warning"}),setTimeout(function(){t.$router.back()},500))},methods:{get_task:function(){var t=this;this.load_data=!0,this.$http.get(o.port_task.get,{params:{taskId:this.route_id}}).then(function(e){var a=e.data.data;t.task=a,t.get_project()}).catch(function(){t.load_data=!1})},get_project:function(){var t=this;this.load_data=!0,this.$http.get(o.port_conf.get,{params:{projectId:this.task.ProjectId}}).then(function(e){var a=e.data.data;t.project=a,t.load_data=!1}).catch(function(){t.load_data=!1})},on_submit_form:function(){var t=this;this.on_submit_loading=!0,this.$http.get(o.port_task.release,{params:{taskId:this.route_id}}).then(function(e){e.data.data;t.$message({message:"部署开始",type:"success"}),t.on_submit_loading=!1}).catch(function(){t.on_submit_loading=!1})}},components:{panelTitle:s.b,terminal:s.e}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(14),o=a(7);a.n(o);e.default={data:function(){return{table_data:null,currentPage:1,total:0,length:15,load_data:!0,batch_select:[],select_info:""}},components:{panelTitle:s.b,bottomToolBar:s.c,search:s.d},created:function(){this.get_table_data()},methods:{submit_search:function(t){this.select_info=t,this.$message({message:t,type:"success"}),this.get_table_data()},on_refresh:function(){this.select_info="",this.get_table_data()},get_table_data:function(){var t=this;console.log(this.currentPage),this.load_data=!0,this.$http.get(o.port_task.list,{params:{page:this.currentPage,length:this.length,select_info:this.select_info}}).then(function(e){var a=e.data.data;t.table_data=a.table_data,t.currentPage=a.currentPage,t.total=a.total,t.load_data=!1}).catch(function(){t.load_data=!1})},handleCurrentChange:function(t){this.currentPage=t,this.get_table_data()}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(14),o=a(7);a.n(o),a(25),a(26);e.default={data:function(){return{task:{},project:{},form:{Branch:null,Title:null,CommitId:null,ProjectId:1*this.$route.params.id},route_id:this.$route.params.id,is_log:this.$route.params.is_log,load_data:!1,on_submit_loading:!1,rules:{Branch:[{required:!0,message:"分支不能为空",trigger:"blur"}],CommitId:[{required:!0,message:"Commit不能为空",trigger:"blur"}],Title:[{required:!0,message:"标题不能为空",trigger:"blur"}]}}},computed:{getHost:function(){var t=this.project.Hosts;return t&&""!=t?this.project.Hosts.split("\r\n"):[]},levelEnv:function(){var t="";return 1==this.project.Level&&(t="测试环境"),2==this.project.Level&&(t="预发布环境"),3==this.project.Level&&(t="正式环境"),t}},created:function(){var t=this;this.route_id?this.get_task():(this.$message({message:"任务id不存在",type:"warning"}),setTimeout(function(){t.$router.back()},500))},methods:{get_task:function(){var t=this;this.load_data=!0,this.$http.get(o.port_task.get,{params:{taskId:this.route_id}}).then(function(e){var a=e.data.data;t.task=a,t.get_project()}).catch(function(){t.load_data=!1})},get_project:function(){var t=this;this.load_data=!0,this.$http.get(o.port_conf.get,{params:{projectId:this.task.ProjectId}}).then(function(e){var a=e.data.data;t.project=a,t.load_data=!1}).catch(function(){t.load_data=!1})},on_submit_form:function(){var t=this;this.on_submit_loading=!0,this.$http.get(o.port_task.release,{params:{taskId:this.route_id}}).then(function(e){e.data.data;t.$message({message:"部署开始",type:"success"}),t.on_submit_loading=!1}).catch(function(){t.on_submit_loading=!1})}},components:{panelTitle:s.b,terminal:s.e}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(50),o=a.n(s),l=a(7),r=(a.n(l),a(85)),n=a(65),i=a(111);e.default={computed:o()({},a.i(r.a)({get_user_info:i.a})),data:function(){return{form:{},rules:{old_password:[{required:!0,message:"请输入旧密码：",trigger:"blur"}],newpassword:[{required:!0,message:"请输入新密码：",trigger:"blur"}],repeat_newpassword:[{required:!0,message:"确认新密码：",trigger:"blur"}]},load_data:!1}},methods:o()({},a.i(r.b)({set_user_info:n.a}),{submit_form:function(){var t=this;this.$http.post(l.port_user.changepasswd,this.form).then(function(e){var a=e.data.msg;t.$message({message:a,type:"success"}),setTimeout(function(){t.$router.push({path:"/"})},500)})}})}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(14),o=a(7);a.n(o),a(26);e.default={filters:{getRole:function(t){return 1==t?"管理员":10==t?"全部预发布用户":20==t?"单个项目用户":t}},data:function(){return{table_data:null,load_data:!0}},components:{panelTitle:s.b,bottomToolBar:s.c,search:s.d},created:function(){this.get_table_data()},methods:{submit_search:function(t){this.select_info=t,this.$message({message:t,type:"success"}),this.get_table_data()},on_refresh:function(){this.select_info="",this.get_table_data()},get_table_data:function(){var t=this;this.load_data=!0,this.$http.get(o.port_user.users).then(function(e){var a=e.data.data;t.table_data=a,t.load_data=!1}).catch(function(){t.load_data=!1})}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(50),o=a.n(s),l=a(7),r=(a.n(l),a(85)),n=a(65);e.default={data:function(){return{form:{user_name:"",user_password:""},rules:{user_name:[{required:!0,message:"请输入账户名！",trigger:"blur"}],user_password:[{required:!0,message:"请输入账户密码！",trigger:"blur"}]},load_data:!1}},methods:o()({},a.i(r.b)({set_user_info:n.a}),{submit_form:function(){var t=this;this.$refs.form.validate(function(e){if(!e)return!1;t.load_data=!0,t.$http.post(l.port_user.login,t.form).then(function(e){var a=e.data,s=a.data,o=a.msg;t.set_user_info({user:s,login:!0}),t.$message({message:o,type:"success"}),setTimeout(function(){t.$router.push({path:"/"})},500)}).catch(function(){t.load_data=!1})})},to_tasklist:function(){this.$router.push({path:"/task/searchlist"})}})}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(50),o=a.n(s),l=a(7),r=(a.n(l),a(85)),n=a(65);e.default={data:function(){return{projects:null,options:[],pro_id:[],userId:0|this.$route.query.id,form:{Role:1,pro_ids:""},isReadonly:!1,rules:{register_username:[{required:!0,message:"请输入账户名！",trigger:"blur"}],register_realname:[{required:!0,message:"请输入花名.实名！",trigger:"blur"}],register_email:[{required:!0,message:"请输入邮箱！",trigger:"blur"}]},load_data:!1}},created:function(){this.userId>0&&this.get_data(),this.get_project_data()},methods:o()({},a.i(r.b)({set_user_info:n.a}),{get_data:function(){var t=this;this.load_data=!0,this.$http.get(l.port_user.users,{params:{id:this.userId}}).then(function(e){var a=e.data.data;console.log(a.username),t.form.register_username=a.username,t.form.register_realname=a.realname,t.form.register_email=a.email,t.form.Role=0|a.role,t.isReadonly=!0,t.get_user_pro_data(),t.load_data=!1}).catch(function(){t.load_data=!1})},get_user_pro_data:function(){var t=this;this.load_data=!0,this.$http.get(l.port_user.usersProject,{params:{user_id:this.userId}}).then(function(e){var a=e.data.data;t.pro_id=[];for(var s in a)t.pro_id.push(a[s].id);t.load_data=!1}).catch(function(){t.load_data=!1})},get_project_data:function(){var t=this;this.load_data=!0,this.$http.get(l.port_conf.list).then(function(e){var a=e.data.data,s=[];for(var o in a.table_data){var l=a.table_data[o].id,r="";if(1==a.table_data[o].level){r="测试环境";var n=r+"-"+a.table_data[o].name;s.push({label:n,value:l})}if(2==a.table_data[o].level){r="预发布环境";var n=r+"-"+a.table_data[o].name;s.push({label:n,value:l})}if(3==a.table_data[o].level){r="正式环境";var n=r+"-"+a.table_data[o].name;s.push({label:n,value:l})}}t.projects=a.table_data,t.options=s}).catch(function(){t.load_data=!1})},submit_forma:function(){var t=this;20===this.form.Role&&(this.form.pro_ids=this.pro_id.toString()),this.$http.post(l.port_user.register+"?id="+this.userId,this.form).then(function(e){var a=e.data.msg;t.$message({message:a,type:"success"}),setTimeout(function(){t.$router.push({path:"/"})},500)})}})}},function(t,e){e.success=0,e.error=1,e.unlogin=2},function(t,e){e.list="/api/get/conf/list",e.mylist="/api/get/conf/mylist",e.get="/api/get/conf/get",e.del="/api/get/conf/del",e.save="/api/post/conf/save",e.detection="/api/get/walle/detection",e.copy="/api/get/conf/copy"},function(t,e){e.md5="/api/get/walle/md5"},function(t,e){e.branch="/api/get/git/branch",e.getTag="/api/get/git/tag",e.commit="/api/get/git/commit",e.gitlog="/api/get/git/gitlog",e.gitpull="/api/get/git/gitpull",e.jenkinsBranch="/api/get/jenkins/commit"},function(t,e){e.noauto="/api/get/other/noauto"},function(t,e){e.check="/api/get/p2p/check",e.send="/api/get/p2p/send",e.agent="/api/post/p2p/agent"},function(t,e){e.list="/api/get/record/list",e.get="/api/get/record/get"},function(t,e){e.list="/api/get/task/list",e.get="/api/get/task/get",e.del="/api/get/task/del",e.save="/api/post/task/save",e.release="/api/get/walle/release",e.rollback="/api/get/task/rollback",e.flush="/api/get/walle/flush",e.chart="/api/get/task/chart"},function(t,e){e.info="/api/get/user/info",e.login="/login",e.logout="/logout",e.changepasswd="/changePasswd",e.register="/register",e.users="/api/get/user",e.usersProject="/api/get/user/project"},function(t,e,a){"use strict";var s=a(112),o=a.n(s),l=a(66),r=a.n(l),n=a(74),i=a.n(n),c=a(75),d=a.n(c),u=a(110),p=a(25);e.a=new(function(){function t(){i()(this,t),this.defaults={},this.expiresMultiplier=86400,this.prefix=u.a}return d()(t,[{key:"get",value:function(t){if(!t)throw new Error("没有找到key。");if("object"===(void 0===t?"undefined":r()(t)))throw new Error("key不能是一个对象。");var e=this.all(),a=e[this.prefix+t];try{a=JSON.parse(a)}catch(t){a={}}return a}},{key:"set",value:function(t,e,a){a=p.a.isObject(a)?a:{expires:a};var s=void 0!==a.expires?a.expires:this.defaults.expires||"",l=void 0===s?"undefined":r()(s);"string"===l&&""!==s?s=new Date(s):"number"===l&&(s=new Date(+new Date+1e3*this.expiresMultiplier*s)),""!==s&&"toGMTString"in s&&(s=";expires="+s.toGMTString());var n=a.path||this.defaults.path;n=n?";path="+n:"";var i=a.domain||this.defaults.domain;i=i?";domain="+i:"";var c=a.secure||this.defaults.secure?";secure":"";return!1===a.secure&&(c=""),document.cookie=p.b.encode(this.prefix+t)+"="+p.b.encode(o()(e))+s+n+i+c,this}},{key:"remove",value:function(t){t=p.a.isArray(t)?t:[t];for(var e=0,a=t.length;e<a;e++)this.set(t[e],"",-1);return this}},{key:"all",value:function(){var t=document.cookie;if(""===t)return{};for(var e=t.split("; "),a={},s=0,o=e.length;s<o;s++){var l=e[s].split("="),r=p.b.decode(l.shift()),n=p.b.decode(l.join(""));a[r]=n}return a}}]),t}())},function(t,e,a){"use strict";var s=a(66),o=a.n(s),l=a(112),r=a.n(l),n=a(74),i=a.n(n),c=a(75),d=a.n(c),u=a(110),p=a(25),m=function(){function t(e){i()(this,t),"local"===e?this.store=window.localStorage:"session"===e&&(this.store=window.sessionStorage),this.prefix=u.a}return d()(t,[{key:"set",value:function(t,e){try{e=r()(e)}catch(t){e=e}return this.store.setItem(p.b.encode(this.prefix+t),p.b.encode(e)),this}},{key:"get",value:function(t){if(!t)throw new Error("没有找到key。");if("object"===(void 0===t?"undefined":o()(t)))throw new Error("key不能是一个对象。");var e=this.store.getItem(p.b.encode(this.prefix+t));if(null===e)return{};try{e=JSON.parse(p.b.decode(e))}catch(t){e={}}return e}},{key:"remove",value:function(t){return this.store.removeItem(p.b.encode(this.prefix+t)),this}}]),t}();new m("local"),new m("session")},function(t,e,a){"use strict";var s=a(74),o=a.n(s),l=a(75),r=a.n(l),n=a(110),i=a(607),c=a.n(i);new(function(){function t(){o()(this,t),this.prefix=n.b,this.base64=c.a.Base64}return r()(t,[{key:"encode",value:function(t){return this.base64.encode(n.b+t)}},{key:"decode",value:function(t){return this.base64.decode(n.b+t)}}]),t}())},function(t,e,a){"use strict";var s=a(74),o=a.n(s),l=a(75),r=a.n(l);e.a=new(function(){function t(){o()(this,t)}return r()(t,[{key:"decode",value:function(t){return decodeURIComponent(t)}},{key:"encode",value:function(t){return encodeURIComponent(t)}}]),t}())},function(t,e,a){"use strict";var s=a(74),o=a.n(s),l=a(75),r=a.n(l);e.a=new(function(){function t(){o()(this,t)}return r()(t,[{key:"isUrl",value:function(t){return/(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&:/~\+#]*[\w\-\@?^=%&/~\+#])?/i.test(t)}},{key:"isTel",value:function(t){return/^1[3|4|5|8][0-9]\d{4,8}$/.test(t)}},{key:"isObject",value:function(t){return!!t&&"[object Object]"===Object.prototype.toString.call(t)}},{key:"isArray",value:function(t){return"[object Array]"===Object.prototype.toString.call(t)}}]),t}())},function(t,e){var a=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in e)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[a]:("00"+e[a]).substr((""+e[a]).length)));return t};t.exports=a},function(t,e,a){"use strict";var s=a(323),o=a.n(s),l=function t(e){t.installed||(t.installed=!0,Date.prototype.$DateFormat=o.a)};e.a={install:l}},function(t,e,a){"use strict";var s=a(331),o=a.n(s),l=a(332),r=a.n(l),n=a(258),i=a.n(n),c=a(7),d=(a.n(c),a(166)),u=a(26),p=a(65),m=function(t){u.a.dispatch(p.a,t)},f=function t(e){t.installed||(t.installed=!0,i.a.defaults.baseURL="/",i.a.defaults.timeout=6e5,i.a.interceptors.request.use(function(t){return u.a.state.user_info&&u.a.state.user_info.user&&u.a.state.user_info.user.AuthKey&&(t.headers.Authorization="token "+u.a.state.user_info.user.AuthKey),t},function(t){return r.a.reject(t)}),i.a.interceptors.response.use(function(t){var a=t.data,s=a.code,o=a.msg;return s===c.port_code.success?r.a.resolve(t):(s===c.port_code.unlogin&&(m(null),d.a.replace({name:"login"})),null==o||""==o?r.a.resolve(t):(e.prototype.$message({message:o,type:"warning"}),r.a.reject({code:s,msg:o})))},function(t){if(t.response){var a=t.response,s=a.status,o=t.message;return e.prototype.$message({message:"操作失败！错误原因 "+o,type:"error"}),r.a.reject({code:s,msg:o})}}),e.axios=i.a,o()(e.prototype,{axios:{get:function(){return i.a}},$http:{get:function(){return i.a}}}))};e.a={install:f}},function(t,e,a){"use strict";var s=a(113),o=a.n(s),l=a(65),r=a(167);e.a=o()({},l.a,function(t,e){(0,t.commit)(r.a,e)})},function(t,e,a){"use strict";var s=a(113),o=a.n(s),l=a(111);e.a=o()({},l.a,function(t){return t.user_info})},function(t,e,a){"use strict";var s=a(113),o=a.n(s),l=a(167),r=a(165);e.a=o()({},l.a,function(t,e){t.user_info=e||{},r.a.set("userinfo",e)})},function(t,e,a){"use strict";var s=a(165);e.a={user_info:s.a.get("userinfo")||{}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,,,function(t,e,a){t.exports=a.p+"static/images/a551c521.png"},function(t,e,a){a(601);var s=a(3)(a(277),a(649),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(null,a(644),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(280),a(670),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(281),a(663),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(282),a(658),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(283),a(667),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(284),a(652),null,null);t.exports=s.exports},function(t,e,a){a(604);var s=a(3)(a(286),a(671),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(287),a(645),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(288),a(655),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(289),a(661),null,null);t.exports=s.exports},function(t,e,a){a(605);var s=a(3)(null,a(674),null,null);t.exports=s.exports},function(t,e,a){a(599);var s=a(3)(a(291),a(643),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(292),a(675),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(293),a(673),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(294),a(660),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(295),a(672),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(296),a(669),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(297),a(656),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(298),a(664),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(299),a(653),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(300),a(651),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(301),a(668),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(302),a(666),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(303),a(648),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(304),a(654),null,null);t.exports=s.exports},function(t,e,a){a(600);var s=a(3)(a(305),a(647),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(306),a(646),null,null);t.exports=s.exports},function(t,e,a){a(602);var s=a(3)(a(307),a(657),null,null);t.exports=s.exports},function(t,e,a){a(603);var s=a(3)(a(308),a(665),null,null);t.exports=s.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"left-side"},[a("div",{staticClass:"left-side-inner"},[a("router-link",{staticClass:"logo block",attrs:{to:"/"}},[a("div",{staticStyle:{color:"white"}},[t._v(" 自动发布系统")])]),t._v(" "),a("el-menu",{staticClass:"menu-box",attrs:{theme:"dark",router:"","default-active":t.$route.path}},t._l(t.nav_menu_data,function(e,s){return a("div",{key:s},[void 0===e.child?a("el-menu-item",{staticClass:"menu-list",attrs:{index:e.path}},[a("i",{staticClass:"icon fa",class:e.icon}),t._v(" "),a("span",{staticClass:"text",domProps:{textContent:t._s(e.title)}})]):t._e()],1)}))],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-body",staticStyle:{"margin-top":"-5px","margin-bottom":"-5px"}},[a("div",{staticStyle:{height:"30px","margin-top":"5px","margin-bottom":"-7px"}},[a("div",{staticClass:"infobox-icon",staticStyle:{float:"left",color:"#8492A6"}},[a("i",{staticClass:"ace-icon fa fa-desktop"})]),t._v(" "),a("div",{staticClass:"infobox-data",staticStyle:{float:"left","margin-left":"10px"}},[a("span",{staticClass:"infobox-data-number"},[a("strong",{staticStyle:{color:"#8492A6"}},[t._v(t._s(t.hostsum))]),t._v(" 个服务器")])]),t._v(" "),a("div",{staticClass:"infobox-icon",staticStyle:{float:"left","margin-left":"70px",color:"#FF4949"}},[a("i",{staticClass:"ace-icon fa fa-users"})]),t._v(" "),a("div",{staticClass:"infobox-data",staticStyle:{float:"left","margin-left":"10px"}},[a("span",{staticClass:"infobox-data-number"},[a("strong",{staticStyle:{color:"#FF4949"}},[t._v(t._s(t.totalmem))]),t._v(" 位用户")])]),t._v(" "),a("div",{staticClass:"infobox-icon",staticStyle:{float:"left","margin-left":"70px",color:"#324057"}},[a("span",{staticClass:"el-icon-date"})]),t._v(" "),a("div",{staticClass:"infobox-data",staticStyle:{float:"left","margin-left":"10px"}},[a("span",{staticClass:"infobox-data-number"},[a("strong",{staticStyle:{color:"#324057"}},[t._v(t._s(t.totalproject))]),t._v(" 个项目")])]),t._v(" "),a("div",{staticClass:"infobox-icon",staticStyle:{float:"left","margin-left":"70px",color:"#20A0FF"}},[a("i",{staticClass:"el-icon-upload2 "})]),t._v(" "),a("div",{staticClass:"infobox-data",staticStyle:{float:"left","margin-left":"10px"}},[a("span",{staticClass:"infobox-data-number"},[a("strong",{staticStyle:{color:"#20A0FF"}},[t._v(t._s(t.totalpub))]),t._v(" 次发布")])]),t._v(" "),a("div",{staticClass:"infobox-icon",staticStyle:{float:"left","margin-left":"70px",color:"#13CE66"}},[a("i",{staticClass:"el-icon-check "})]),t._v(" "),a("div",{staticClass:"infobox-data",staticStyle:{float:"left","margin-left":"10px"}},[a("span",{staticClass:"infobox-data-number"},[a("strong",{staticStyle:{color:"#13CE66"}},[t._v(t._s(t.totalpubsuccess)+"%")]),t._v("发布成功率")])])])])])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"panel"},[a("panel-title",{attrs:{title:t.msg1}}),t._v(" "),a("div",{staticClass:"panel-body"},[a("div",{ref:"chartsA",staticStyle:{height:"500px"}})])],1)]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"panel",staticStyle:{"margin-left":"10px"}},[a("panel-title",{attrs:{title:t.msg2}}),t._v(" "),a("div",{staticClass:"panel-body"},[a("div",{ref:"chartsB",staticStyle:{height:"500px"}})])],1)]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"panel",staticStyle:{"margin-left":"10px"}},[a("panel-title",{attrs:{title:t.msg3}}),t._v(" "),a("div",{staticClass:"panel-body"},[a("div",{ref:"chartsC",staticStyle:{height:"500px"}})])],1)])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"panel"},[a("panel-title",{attrs:{title:"项目发布列表"}}),t._v(" "),a("div",{staticClass:"panel-body"},[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"本日",name:"chartsD"}},[a("div",{ref:"chartsD",style:{height:t.mapHeight+"px"}})]),t._v(" "),a("el-tab-pane",{attrs:{label:"本周",name:"chartsE"}},[a("div",{ref:"chartsE",style:{height:t.mapHeight+"px"}})]),t._v(" "),a("el-tab-pane",{attrs:{label:"本月",name:"chartsF"}},[a("div",{ref:"chartsF",style:{height:t.mapHeight+"px"}})])],1)],1)],1)])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bottom-toolbar ofh"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"fl"},[t._t("handler")],2),t._v(" "),a("div",{staticClass:"fr"},[t._t("page")],2)])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{directives:[{name:"show",rawName:"v-show",value:t.isShowStep,expression:"isShowStep"}]},[a("el-col",{attrs:{span:24}},[a("el-steps",{attrs:{active:t.action}},[a("el-step",{attrs:{title:"步骤 1",description:"权限、目录检查"}}),t._v(" "),a("el-step",{attrs:{title:"步骤 2",description:"pre-deploy任务"}}),t._v(" "),a("el-step",{attrs:{title:"步骤 3",description:"代码检出"}}),t._v(" "),a("el-step",{attrs:{title:"步骤 4",description:"post-deploy任务"}}),t._v(" "),a("el-step",{attrs:{title:"步骤 5",description:"同步至服务器"}}),t._v(" "),a("el-step",{attrs:{title:"步骤 6",description:"全量更新(pre-release、更新版本、post-release)"}})],1)],1)],1),t._v(" "),a("div",{staticStyle:{margin:"5px 5px 0px",padding:"3px",border:"1px dashed rgb(0, 160, 198)","background-color":"rgb(0,0,0)"}},[a("code",{staticStyle:{"background-color":"rgb(0, 0, 0)",color:"#00ff00"}},[a("br"),t._v(" "),t._l(t.showText,function(e){return a("span",{style:{color:e.color}},[a("pre",{staticStyle:{"white-space":"pre-wrap"},domProps:{innerHTML:t._s(e.text)}}),t._v(" "),a("br")])}),t._v(" "),a("br")],2)])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel"},[a("panel-title",{attrs:{title:t.$route.meta.title}},[a("router-link",{staticStyle:{float:"left","margin-right":"10px"},attrs:{to:{name:"register"},tag:"span"}},[a("el-button",{attrs:{type:"primary",icon:"plus",size:"small"}},[t._v("添加")])],1)],1),t._v(" "),a("div",{staticClass:"panel-body"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.load_data,expression:"load_data"}],staticStyle:{width:"100%"},attrs:{data:t.table_data,"element-loading-text":"拼命加载中",border:""}},[a("el-table-column",{attrs:{prop:"id",label:"id",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"realname",label:"名称",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"updated_at",label:"上线时间",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"email",label:"邮箱"}}),t._v(" "),a("el-table-column",{attrs:{prop:"username",label:"用户名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"created_at",label:"创建时间",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"role",label:"\t角色",width:"100"},scopedSlots:t._u([["default",function(e){return[a("span",[t._v(t._s(t._f("getRole")(e.row.role)))])]}]])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:t._u([["default",function(e){return[a("router-link",{attrs:{to:{name:"register",query:{id:e.row.id}},tag:"span"}},[a("el-button",{attrs:{size:"small",icon:"edit"}},[t._v("修改")])],1),t._v(" "),a("el-button",{attrs:{type:"danger",size:"small",icon:"delete"},on:{click:function(a){t.delete_data(e.row.id)}}},[t._v("删除\n                    ")])]}]])})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-bodya"},[a("div",{staticClass:"loginWarpa"},[t._m(0),t._v(" "),t.get_user_info.login?a("div",{staticClass:"login-forma"},[a("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"0"}},[a("el-form-item",{staticClass:"login-itema",attrs:{prop:"old_password"}},[a("label",[t._v("用户名 ：")]),a("span",{domProps:{textContent:t._s(t.get_user_info.user.Username)}})]),t._v(" "),a("el-form-item",{staticClass:"login-itema",attrs:{prop:"old_password"}},[a("label",[t._v("邮箱 ：")]),t._v(" "),a("span",{domProps:{textContent:t._s(t.get_user_info.user.Email)}})]),t._v(" "),a("el-form-item",{staticClass:"login-itema",attrs:{prop:"old_password"}},[a("label",[t._v("花名.实名 ：")]),t._v(" "),a("span",{domProps:{textContent:t._s(t.get_user_info.user.Realname)}})]),t._v(" "),a("el-form-item",{staticClass:"login-itema",attrs:{prop:"old_password"}},[a("el-input",{staticClass:"form-inputa",attrs:{type:"password",placeholder:"请输入旧密码："},model:{value:t.form.old_password,callback:function(e){t.form.old_password=e},expression:"form.old_password"}})],1),t._v(" "),a("el-form-item",{staticClass:"login-itema",attrs:{prop:"newpassword"}},[a("el-input",{staticClass:"form-inputa",attrs:{type:"password",placeholder:"请输入新密码："},model:{value:t.form.newpassword,callback:function(e){t.form.newpassword=e},expression:"form.newpassword"}})],1),t._v(" "),a("el-form-item",{staticClass:"login-itema",attrs:{prop:"repeat_newpassword"}},[a("el-input",{staticClass:"form-inputa",attrs:{type:"password",placeholder:"确认新密码："},model:{value:t.form.repeat_newpassword,callback:function(e){t.form.repeat_newpassword=e},expression:"form.repeat_newpassword"}})],1),t._v(" "),a("el-form-item",{staticClass:"login-itema"},[a("el-button",{staticClass:"form-submita",attrs:{size:"large"},on:{click:t.submit_form}},[t._v("修改密码")])],1)],1)],1):t._e()])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-titlea"},[a("div",[t._v(" 个人信息设置")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel"},[a("panel-title",{attrs:{title:t.$route.meta.title}},[a("div",{staticStyle:{float:"left","margin-right":"10px"}},[a("search",{on:{search:t.submit_search}})],1),t._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(e){e.stopPropagation(),t.on_refresh(e)}}},[a("i",{staticClass:"fa fa-refresh"})])],1),t._v(" "),a("div",{staticClass:"panel-body",staticStyle:{clear:"both"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.load_data,expression:"load_data"}],staticStyle:{width:"100%"},attrs:{data:t.table_data,"element-loading-text":"拼命加载中",border:""}},[a("el-table-column",{attrs:{prop:"id",label:"id",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"realname",label:"创建人",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"项目"}}),t._v(" "),a("el-table-column",{attrs:{prop:"title",label:"上线单标题"}}),t._v(" "),a("el-table-column",{attrs:{prop:"updated_at",label:"上线时间",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"branch",label:"分支"}}),t._v(" "),a("el-table-column",{attrs:{prop:"commit_id",label:"\t上线commit号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pms_batch_id",label:"\t发布批次ID",width:"60"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pms_uwork_id",label:"\tuwork流程号",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"\t当前状态",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:t._u([["default",function(e){return["新建提交"!=e.row.status?a("router-link",{attrs:{to:{name:"searchtaskRelease",params:{id:e.row.id,is_log:1}},tag:"span"}},[a("el-button",{attrs:{size:"small",icon:"edit"}},[t._v("查看日志")])],1):t._e()]}]])})],1),t._v(" "),a("bottom-tool-bar",[a("div",{slot:"page"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":15,layout:"total, prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"body-warp"},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view",{staticStyle:{"z-index":"200"},attrs:{name:"fullView"}})],1),t._v(" "),a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view",{staticStyle:{"z-index":"150"},attrs:{name:"menuView"}})],1),t._v(" "),a("main-content",{staticStyle:{"z-index":"100"}},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel"},[a("panel-title",{attrs:{title:t.$route.meta.title}}),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.load_data,expression:"load_data"}],staticClass:"panel-body",attrs:{"element-loading-text":"拼命加载中"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目名称:",prop:"Name","label-width":"100px"}},[a("el-input",{staticStyle:{width:"600px"},attrs:{placeholder:"请输入项目名称"},model:{value:t.form.Name,callback:function(e){t.form.Name=e},expression:"form.Name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"项目环境:","label-width":"100px"}},[a("el-radio-group",{model:{value:t.form.Level,callback:function(e){t.form.Level=e},expression:"form.Level"}},[a("el-radio",{attrs:{label:2}},[t._v("预发布环境")]),t._v(" "),a("el-radio",{attrs:{label:3}},[t._v("线上环境")])],1)],1),t._v(" "),t.route_id?t._e():a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.form.RepoType,callback:function(e){t.form.RepoType=e},expression:"form.RepoType"}},[a("el-tab-pane",{attrs:{label:"Git",name:"git"}},[a("el-form-item",{attrs:{label:"地址:",prop:"RepoUrl","label-width":"100px"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:" git格式:ssh-url，需要把宿主机php进程用户的ssh-key加入git信任",placement:"top"}},[a("el-input",{staticStyle:{width:"600px"},attrs:{placeholder:"git@gitee.com/dev-ops/gopub.git"},model:{value:t.form.RepoUrl,callback:function(e){t.form.RepoUrl=e},expression:"form.RepoUrl"}})],1)],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"File",name:"file"}},[a("el-form-item",{attrs:{label:"地址:",prop:"RepoUrl","label-width":"100px"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"发布包的http地址",placement:"top"}},[a("el-input",{staticStyle:{width:"600px"},attrs:{placeholder:"File模式填入下载文件夹路径如：http://download.aaa.org/a/"},model:{value:t.form.RepoUrl,callback:function(e){t.form.RepoUrl=e},expression:"form.RepoUrl"}})],1)],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"Jenkins",name:"jenkins"}},[a("el-form-item",{attrs:{label:"jenkins地址:",prop:"RepoUrl","label-width":"100px"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"job页jenkins地址，类似http://jenkins.xxxxx.com/job/项目名称/",placement:"top"}},[a("el-input",{staticStyle:{width:"600px"},attrs:{placeholder:"job页jenkins地址，类似http://jenkins.xxxxx.com/job/项目名称/"},model:{value:t.form.RepoUrl,callback:function(e){t.form.RepoUrl=e},expression:"form.RepoUrl"}})],1)],1)],1)],1),t._v(" "),t.route_id?a("el-form-item",{attrs:{label:"地址:",prop:"RepoUrl","label-width":"100px"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"支持git/svn。git格式:ssh-url，需要把宿主机php进程用户的ssh-key加入git信任",placement:"top"}},[a("el-input",{staticStyle:{width:"600px"},attrs:{placeholder:"git@gitee.com/dev-ops/gopub.git(File模式填入下载文件夹路径如：http://download.xxxx.org/a/)"},model:{value:t.form.RepoUrl,callback:function(e){t.form.RepoUrl=e},expression:"form.RepoUrl"}})],1)],1):t._e()],1)],1),t._v(" "),a("el-row",{attrs:{gutter:12}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"panel-title"},[t._v("\n                  宿主机\n                  "),a("div",{staticClass:"fr"},[t._t("default")],2)]),t._v(" "),a("div",{staticClass:"panel-body el-form el-form--label-top"},[a("el-form-item",{attrs:{label:"代码检出仓库:",prop:"DeployFrom"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"代码的检出存放路径",placement:"top"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"/data/www/deploy"},model:{value:t.form.DeployFrom,callback:function(e){t.form.DeployFrom=e},expression:"form.DeployFrom"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"排除文件:",prop:"Excludes"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"剔除不上线的文件、目录，每行一个",placement:"top"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",autosize:"",placeholder:".git\nREADME.md"},model:{value:t.form.Excludes,callback:function(e){t.form.Excludes=e},expression:"form.Excludes"}})],1)],1)],1)]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"panel-title"},[t._v("\n                  目标机\n                  "),a("div",{staticClass:"fr"},[t._t("default")],2)]),t._v(" "),a("div",{staticClass:"panel-body"},[a("div",{staticClass:"el-form--label-top"},[a("el-form-item",{attrs:{label:"用户:",prop:"ReleaseUser"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"代码的部署的用户，一般是运行的服务的用户，如php进程用户www",placement:"top"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"www"},model:{value:t.form.ReleaseUser,callback:function(e){t.form.ReleaseUser=e},expression:"form.ReleaseUser"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"webroot:",prop:"ReleaseTo"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"代码的最终部署路径，请不要在目标机新建此目录，walle会自动生成此软链，正确设置父目级录即可",placement:"top"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"/data/www/walle"},model:{value:t.form.ReleaseTo,callback:function(e){t.form.ReleaseTo=e},expression:"form.ReleaseTo"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"发布版本库:",prop:"ReleaseLibrary"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"代码发布的版本库，每次发布更新webroot的软链到当前最新版本",placement:"top"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"/data/releases"},model:{value:t.form.ReleaseLibrary,callback:function(e){t.form.ReleaseLibrary=e},expression:"form.ReleaseLibrary"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"版本保留数:",prop:"KeepVersionNum"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"过多的历史版本将被删除，只可回滚保留的版本",placement:"top"}},[a("el-input-number",{staticStyle:{width:"400px"},attrs:{placeholder:"20",max:100,min:1,value:20,controls:!1},model:{value:t.form.KeepVersionNum,callback:function(e){t.form.KeepVersionNum=e},expression:"form.KeepVersionNum"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"是否开启分批发布:"}},[a("el-radio-group",{model:{value:t.form.IsGroup,callback:function(e){t.form.IsGroup=e},expression:"form.IsGroup"}},[a("el-radio",{attrs:{label:0}},[t._v("关闭")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("开启")])],1)],1),t._v(" "),t.form.IsGroup?t._e():a("el-form-item",{attrs:{label:"机器列表:",prop:"Hosts"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"要发布的机器列表，一行一个，默认22端口",placement:"top"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",autosize:"",placeholder:"192.168.0.1\n192.168.0.2:21"},model:{value:t.form.Hosts,callback:function(e){t.form.Hosts=e},expression:"form.Hosts"}})],1)],1),t._v(" "),t.form.IsGroup?a("el-form-item",{attrs:{label:"机器列表:",prop:"Hosts"}},[a("div",[a("el-button",{attrs:{type:"primary",icon:"plus",size:"small"},on:{click:function(e){t.add_data()}}},[t._v("添加")])],1),t._v(" "),a("ul",t._l(t.hosts,function(e,s){return a("li",[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"要发布的机器列表，一行一个，22端口",placement:"top"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",autosize:"",placeholder:"192.168.0.1\n192.168.0.2:21"},model:{value:t.hosts[s],callback:function(e){var a=t.hosts,o=s;Array.isArray(a)?a.splice(o,1,e):t.hosts[s]=e},expression:"hosts[key]"}})],1),t._v(" "),a("el-button",{attrs:{type:"danger",size:"small",icon:"delete"},on:{click:function(e){t.delete_data(s)}}},[t._v("删除\n                          ")])],1)})),t._v(" "),a("div")]):t._e()],1)])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"panel-title"},[t._v("\n                  高级任务\n                  "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"使用系统变量更方便处理路径问题：{WORKSPACE}：宿主机的独立部署空间或目标机的webroot    {VERSION}：发布的版本库的当前版本",placement:"top"}},[a("i",{staticClass:"el-icon-search"})]),t._v(" "),a("div",{staticClass:"fr"},[t._t("default")],2)],1),t._v(" "),a("div",{staticClass:"panel-body"},[a("div",{staticClass:"panel-body el-form el-form--label-top"},[a("el-form-item",{attrs:{label:"代码检出前任务:",prop:"PreDeploy"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"在部署代码之前的准备工作，如git的一些前置检查、vendor的安装（更新），一行一条",placement:"top"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",autosize:""},model:{value:t.form.PreDeploy,callback:function(e){t.form.PreDeploy=e},expression:"form.PreDeploy"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"代码检出后任务:",prop:"PostDeploy"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"git代码检出之后，可能做一些调整处理，如vendor拷贝，环境适配（mv config-test.php config.php），一行一条",placement:"top"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",autosize:""},model:{value:t.form.PostDeploy,callback:function(e){t.form.PostDeploy=e},expression:"form.PostDeploy"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"同步完目标机后任务:",prop:"PreRelease"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"同步完所有目标机器之后，更改版本软链之前触发任务。java可能要做一些暂停服务的操作",placement:"top"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",autosize:""},model:{value:t.form.PreRelease,callback:function(e){t.form.PreRelease=e},expression:"form.PreRelease"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"更改版本软链接后任务:",prop:"PostRelease"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"所有目标机器都部署完毕之后，做一些清理工作，如删除缓存、重启服务（nginx、php、task），一行一条",placement:"top"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",autosize:""},model:{value:t.form.PostRelease,callback:function(e){t.form.PostRelease=e},expression:"form.PostRelease"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"版本发布发布完成后执行本地任务:",prop:"LastDeploy"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"一行一条,相关参数{WORKSPACE},{VERSION},{HOSTS},{PROJECT_ID},{PROJECT_NAME},{TASK_ID},{TASK_LINKID}",placement:"top"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",autosize:""},model:{value:t.form.LastDeploy,callback:function(e){t.form.LastDeploy=e},expression:"form.LastDeploy"}})],1)],1)],1)])])],1),t._v(" "),a("el-form-item",{attrs:{label:"是否开启p2p:"}},[a("el-radio-group",{model:{value:t.form.P2p,callback:function(e){t.form.P2p=e},expression:"form.P2p"}},[a("el-radio",{attrs:{label:0}},[t._v("关闭")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("开启")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"是否启用gzip:"}},[a("el-radio-group",{model:{value:t.form.Gzip,callback:function(e){t.form.Gzip=e},expression:"form.Gzip"}},[a("el-radio",{attrs:{label:0}},[t._v("关闭")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("开启")])],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:t.on_submit_loading},on:{click:t.on_submit_form}},[t._v("立即提交\n              ")]),t._v(" "),a("el-button",{on:{click:function(e){t.$router.back()}}},[t._v("取消")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel"},[a("panel-title",{attrs:{title:t.$route.meta.title}}),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.load_data,expression:"load_data"}],staticClass:"panel-body",attrs:{"element-loading-text":"拼命加载中"}},[a("el-row",[a("el-col",{attrs:{span:20}},[a("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"上线单标题:",prop:"Title"}},[a("el-input",{staticStyle:{width:"500px"},attrs:{placeholder:"请输入标题"},model:{value:t.form.Title,callback:function(e){t.form.Title=e},expression:"form.Title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"选取构建:",prop:"Branch","label-width":"100px"}},[a("el-select",{staticStyle:{width:"400px"},attrs:{filterable:"",placeholder:"请选择"},on:{change:t.get_commit},model:{value:t.form.Branch,callback:function(e){t.form.Branch=e},expression:"form.Branch"}},t._l(t.branchData,function(t){return a("el-option",{key:t.label,attrs:{label:t.label,value:t.label}})})),t._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(e){e.stopPropagation(),t.get_branch_data(e)}}},[a("i",{staticClass:"fa fa-refresh"})])],1),t._v(" "),a("el-form-item",{attrs:{label:"下载地址 :","label-width":"100px",prop:"CommitId"}},[a("el-input",{staticStyle:{width:"500px"},model:{value:t.form.CommitId,callback:function(e){t.form.CommitId=e},expression:"form.CommitId"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"灰度发布 :"}},[a("el-switch",{attrs:{"on-text":"on","off-text":"off"},model:{value:t.isShowHost,callback:function(e){t.isShowHost=e},expression:"isShowHost"}},[t._v("灰度发布")]),t._v(" "),a("div",[t.isShowHost?a("el-select",{staticStyle:{width:"400px"},attrs:{multiple:"",filterable:"",placeholder:"请选择"},model:{value:t.selectHosts,callback:function(e){t.selectHosts=e},expression:"selectHosts"}},t._l(t.Hosts,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})):t._e()],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:t.on_submit_loading},on:{click:t.on_submit_form}},[t._v("立即提交\n                        ")]),t._v(" "),a("el-button",{on:{click:function(e){t.$router.back()}}},[t._v("取消")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel-title"},[t.title?a("span",{domProps:{textContent:t._s(t.title)}}):t._e(),t._v(" "),a("div",{staticClass:"fr"},[t._t("default")],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel"},[a("panel-title",{attrs:{title:t.$route.meta.title}}),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.load_data,expression:"load_data"}],staticClass:"panel-body",attrs:{"element-loading-text":"拼命加载中"}},[a("el-row",[a("el-col",{attrs:{span:20}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"项目名称:","label-width":"100px"}},[a("el-select",{staticStyle:{width:"400px"},attrs:{filterable:"",placeholder:"请选择"},model:{value:t.pro_id,callback:function(e){t.pro_id=e},expression:"pro_id"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:t.on_submit_loading},on:{click:t.on_git_log}},[t._v("查询\n                        ")]),t._v(" "),a("el-button",{attrs:{type:"primary",loading:t.on_submit_loading},on:{click:t.on_submit_form}},[t._v("更新\n                        ")]),t._v(" "),a("el-button",{on:{click:function(e){t.$router.back()}}},[t._v("返回")])],1)],1),t._v(" "),t.pro_id?a("terminal",{attrs:{taskId:-3}}):t._e()],1)],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel"},[a("panel-title",{attrs:{title:t.$route.meta.title}}),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.load_data,expression:"load_data"}],staticClass:"panel-body",attrs:{"element-loading-text":"拼命加载中"}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目:"}},[t._v("\n                        "+t._s(t.task.Title)+"\n                    ")]),t._v(" "),"git"==t.project.RepoType?a("span",[a("el-form-item",{attrs:{label:"分支:"}},[t._v("\n                      "+t._s(t.task.Branch)+"\n                  ")]),t._v(" "),a("el-form-item",{attrs:{label:"哈希:"}},[t._v("\n                       "+t._s(t.task.CommitId)+"\n                   ")])],1):t._e(),t._v(" "),"file"==t.project.RepoType?a("span",[a("el-form-item",{attrs:{label:"包地址:"}},[t._v("\n                        "+t._s(t.task.CommitId)+"\n                    ")])],1):t._e()],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目:"}},[t._v("\n                        "+t._s(t.project.Name)+"\n                    ")]),t._v(" "),a("el-form-item",{attrs:{label:"环境:"}},[t._v("\n                        "+t._s(t.levelEnv)+"\n                    ")]),t._v(" "),a("el-form-item",{attrs:{label:"发布版本库:"}},[t._v("\n                        "+t._s(t.project.ReleaseTo)+"\n                    ")]),t._v(" "),a("el-form-item",{attrs:{label:"发布版本库:"}},[t._v("\n                        "+t._s(t.project.ReleaseTo)+"\n                    ")]),t._v(" "),a("el-form-item",{attrs:{label:"发布ip:"}},t._l(t.getHost,function(e){return a("span",[t._v(t._s(e)+" "),a("br")])}))],1),t._v(" "),a("el-form-item",[a("el-button",{on:{click:function(e){t.$router.back()}}},[t._v("返回")])],1)],1)],1),t._v(" "),a("terminal",{attrs:{taskId:t.task.Id}})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel"},[a("panel-title",{attrs:{title:t.$route.meta.title}},[a("div",{staticStyle:{float:"left","margin-right":"10px","margin-top":"5px"}},[a("search",{on:{search:t.submit_search}})],1),t._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(e){e.stopPropagation(),t.on_refresh(e)}}},[a("i",{staticClass:"fa fa-refresh"})]),t._v(" "),a("router-link",{attrs:{to:{name:"confAdd"},tag:"span"}},[a("el-button",{attrs:{type:"primary",icon:"plus",size:"small"}},[t._v("创建项目")])],1)],1),t._v(" "),a("div",{staticClass:"panel-body",staticStyle:{clear:"both"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.load_data,expression:"load_data"}],staticStyle:{width:"100%"},attrs:{data:t.table_data,"element-loading-text":"拼命加载中",border:""}},[a("el-table-column",{attrs:{prop:"id",label:"id",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"项目名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"realname",label:"创建人",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"level",label:"环境",width:"150"},scopedSlots:t._u([["default",function(e){return[a("span",{domProps:{textContent:t._s(3==e.row.level?"线上环境":"预发布环境")}})]}]])}),t._v(" "),a("el-table-column",{attrs:{prop:"repo_type",label:"发布方式",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"keep_version_num",label:"保留版本数量",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"p2p",label:"是否使用p2p",width:"80"},scopedSlots:t._u([["default",function(e){return[a("span",{domProps:{textContent:t._s(0==e.row.p2p?"否":"是")}})]}]])}),t._v(" "),a("el-table-column",{attrs:{prop:"updated_at",label:"更新时间",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"created_at",label:"创建时间",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"370"},scopedSlots:t._u([["default",function(e){return[a("el-popover",{ref:"popover4",attrs:{placement:"left-start",width:"620",trigger:"click"}},[a("div",{staticStyle:{"margin-left":"10px","font-size":"15px"}},[a("i",{staticClass:"el-icon-date",staticStyle:{color:"#20A0FF"}}),t._v(" "),a("span",{staticStyle:{"margin-left":"8px",color:"#20A0FF"}},[t._v("项目详情")])]),t._v(" "),a("div",{staticClass:"login-bodya"},[a("div",{staticClass:"loginWarpa"},[a("div",{staticClass:"login-forma"},[a("el-form",{ref:"form",attrs:{"label-width":"0"}},[a("el-form-item",{staticClass:"login-itema",staticStyle:{"margin-top":"-20px","margin-left":"-25px"},attrs:{prop:"old_password"}},[a("label",[t._v("项目名称 ：")]),a("span",{staticStyle:{color:"teal"}},[t._v(t._s(t.project_data.Name))])]),t._v(" "),a("el-form-item",{staticClass:"login-itema",staticStyle:{"margin-top":"-20px","margin-left":"-25px"},attrs:{prop:"old_password"}},[a("label",[t._v("项目环境 ：")]),t._v(" "),a("span",{staticStyle:{color:"teal"}},[t._v(t._s(3==t.project_data.Level?"线上环境":"预发布环境"))])]),t._v(" "),a("el-form-item",{staticClass:"login-itema",staticStyle:{"margin-top":"-20px","margin-left":"-25px"},attrs:{prop:"old_password"}},[a("label",[t._v("项目地址 ：")]),t._v(" "),a("span",{staticStyle:{color:"teal"}},[t._v(" "+t._s(t.project_data.RepoUrl)+" ")])])],1)],1)])]),t._v(" "),a("div",{staticStyle:{"margin-left":"10px","font-size":"15px"}},[a("i",{staticClass:"ace-icon fa fa-desktop",staticStyle:{color:"#F7BA21"}}),t._v(" "),a("span",{staticStyle:{"margin-top":"-20px","margin-left":"8px",color:"#F7BA2A"}},[t._v("宿主机")])]),t._v(" "),a("div",{staticClass:"login-bodya"},[a("div",{staticClass:"loginWarpa"},[a("div",{staticClass:"login-forma"},[a("el-form",{ref:"form",attrs:{"label-width":"0"}},[a("el-form-item",{staticClass:"login-itema",staticStyle:{"margin-top":"-20px","margin-left":"-25px"},attrs:{prop:"old_password"}},[a("label",[t._v("代码检出仓库 ：")]),a("span",{staticStyle:{color:"teal"}},[t._v(t._s(t.project_data.DeployFrom))])]),t._v(" "),a("el-form-item",{staticClass:"login-itema",staticStyle:{"margin-top":"-20px","margin-left":"-25px"},attrs:{prop:"old_password"}},[a("label",[t._v("排除文件 ：")]),t._v(" "),a("span",{staticStyle:{color:"teal"}},[t._v(t._s(t.project_data.Excludes))])])],1)],1)])]),t._v(" "),a("div",{staticStyle:{"margin-left":"10px","font-size":"15px"}},[a("i",{staticClass:"el-icon-menu",staticStyle:{color:"#13CE66"}}),t._v(" "),a("span",{staticStyle:{"margin-top":"-20px","margin-left":"8px",color:"#13CE66"}},[t._v("机器列表")])]),t._v(" "),a("div",{staticClass:"login-bodya"},[a("div",{staticClass:"loginWarpa"},[a("div",{staticClass:"login-forma"},[a("el-form",{ref:"form",attrs:{"label-width":"0"}},[a("el-form-item",{staticClass:"login-itema",staticStyle:{"margin-top":"-20px","margin-left":"-25px"},attrs:{prop:"old_password"}},[a("label",[t._v("用户 ：")]),a("span",{staticStyle:{color:"teal"}},[t._v(t._s(t.project_data.ReleaseUser))]),t._v(" "),a("label",{staticStyle:{"margin-left":"120px"}},[t._v("保留版本数 ：")]),a("span",{staticStyle:{color:"teal"}},[t._v(t._s(t.project_data.KeepVersionNum))])]),t._v(" "),a("el-form-item",{staticClass:"login-itema",staticStyle:{"margin-top":"-20px","margin-left":"-25px"},attrs:{prop:"old_password"}},[a("label",[t._v("webroot ：")]),t._v(" "),a("span",{staticStyle:{color:"teal"}},[t._v(t._s(t.project_data.ReleaseTo))])]),t._v(" "),a("el-form-item",{staticClass:"login-itema",staticStyle:{"margin-top":"-20px","margin-left":"-25px"},attrs:{prop:"old_password"}},[a("label",[t._v("发布版本库 ：")]),t._v(" "),a("span",{staticStyle:{color:"teal"}},[t._v(" "+t._s(t.project_data.ReleaseLibrary)+" ")])]),t._v(" "),a("el-form-item",{staticClass:"login-itema",staticStyle:{"margin-top":"-20px","margin-left":"-25px"},attrs:{prop:"old_password"}},[a("label",[t._v("机器列表 ：")]),t._v(" "),a("span",{staticStyle:{color:"teal"}},[t._v(" "+t._s(t.project_data.Hosts)+" ")])])],1)],1)])]),t._v(" "),a("div",{staticStyle:{"margin-left":"10px","font-size":"15px"}},[a("i",{staticClass:"el-icon-setting",staticStyle:{color:"#FF4949"}}),a("span",{staticStyle:{"margin-top":"-20px","margin-left":"8px",color:"#FF4949"}},[t._v("高级任务")])]),t._v(" "),a("div",{staticClass:"login-bodya"},[a("div",{staticClass:"loginWarpa"},[a("div",{staticClass:"login-forma"},[a("el-form",{ref:"form",attrs:{"label-width":"0"}},[a("el-form-item",{staticClass:"login-itema",staticStyle:{"margin-top":"-20px","margin-left":"-25px"},attrs:{prop:"old_password"}},[a("label",[t._v("代码检出前任务 ：")]),a("span",{staticStyle:{color:"teal"}},[t._v(t._s(t.project_data.PreDeploy))])]),t._v(" "),a("el-form-item",{staticClass:"login-itema",staticStyle:{"margin-top":"-20px","margin-left":"-25px"},attrs:{prop:"old_password"}},[a("label",[t._v("代码检出后任务 ：")]),t._v(" "),a("span",{staticStyle:{color:"teal"}},[t._v(t._s(t.project_data.PostDeploy))])]),t._v(" "),a("el-form-item",{staticClass:"login-itema",staticStyle:{"margin-top":"-20px","margin-left":"-25px"},attrs:{prop:"old_password"}},[a("label",[t._v("同步完目标机后任务 ：")]),t._v(" "),a("span",{staticStyle:{color:"teal"}},[t._v(" "+t._s(t.project_data.PreRelease)+" ")])]),t._v(" "),a("el-form-item",{staticClass:"login-itema",staticStyle:{"margin-top":"-20px","margin-left":"-25px"},attrs:{prop:"old_password"}},[a("label",[t._v("更改版本软链接后任务  ：")]),t._v(" "),a("span",{staticStyle:{color:"teal"}},[t._v(" "+t._s(t.project_data.PostRelease)+" ")])]),t._v(" "),a("el-form-item",{staticClass:"login-itema",staticStyle:{"margin-top":"-20px","margin-left":"-25px"},attrs:{prop:"old_password"}},[a("label",[t._v("是否开启p2p  ：")]),t._v(" "),a("span",{staticStyle:{color:"teal"}},[t._v(" "+t._s(0==t.project_data.P2p?"No":"Yes")+" ")]),t._v(" "),a("label",{staticStyle:{"margin-left":"120px"}},[t._v("是否开启gzip  ：")]),t._v(" "),a("span",{staticStyle:{color:"teal"}},[t._v(" "+t._s(0==t.project_data.Gzip?"No":"Yes")+" ")])])],1)],1)])])]),t._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popover4",arg:"popover4"}],attrs:{type:"info",size:"small",icon:"search"},on:{click:function(a){t.open(e.row.id)}}},[t._v("查看\n                    ")]),t._v(" "),a("router-link",{attrs:{to:{name:"confDetection",params:{id:e.row.id}},tag:"span"}},[a("el-button",{attrs:{type:"success",size:"small",icon:"setting"}},[t._v("检测")])],1),t._v(" "),a("router-link",{attrs:{to:{name:"confUpdate",params:{id:e.row.id}},tag:"span"}},[a("el-button",{attrs:{type:"info",size:"small",icon:"edit"}},[t._v("修改")])],1),t._v(" "),a("el-button",{attrs:{type:"warning",size:"small",icon:"document"},on:{click:function(a){t.copy_data(e.row.id)}}},[t._v("复制\n                    ")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"danger",size:"small",icon:"delete"},on:{click:function(a){t.delete_data(e.row.id)}}},[t._v("删除\n                    ")])]}]])})],1),t._v(" "),a("bottom-tool-bar",[a("div",{slot:"page"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":10,layout:"total, prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel"},[a("panel-title",{attrs:{title:t.$route.meta.title}}),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.load_data,expression:"load_data"}],staticClass:"panel-body",attrs:{"element-loading-text":"拼命加载中"}},[a("el-row",[a("el-col",{attrs:{span:20}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"项目名称:","label-width":"100px"}},[a("el-select",{staticStyle:{width:"400px"},attrs:{multiple:"",filterable:"",placeholder:"请选择"},model:{value:t.pro_id,callback:function(e){t.pro_id=e},expression:"pro_id"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:t.on_submit_loading},on:{click:t.on_submit_form}},[t._v("刷新\n                        ")]),t._v(" "),a("el-button",{on:{click:function(e){t.$router.back()}}},[t._v("返回")])],1)],1),t._v(" "),t.pro_id.length>0?a("terminal",{attrs:{taskId:-2}}):t._e()],1)],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-body"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.load_data,expression:"load_data"}],staticClass:"loginWarp",attrs:{"element-loading-text":"正在登陆中..."},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.submit_form(e)}}},[t._m(0),t._v(" "),a("div",{staticClass:"login-form"},[a("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"0"}},[a("el-form-item",{staticClass:"login-item",attrs:{prop:"user_name"}},[a("el-input",{staticClass:"form-input",attrs:{placeholder:"请输入账户名：",autofocus:!0},model:{value:t.form.user_name,callback:function(e){t.form.user_name=e},expression:"form.user_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"login-item",attrs:{prop:"user_password"}},[a("el-input",{staticClass:"form-input",attrs:{type:"password",placeholder:"请输入账户密码："},model:{value:t.form.user_password,callback:function(e){t.form.user_password=e},expression:"form.user_password"}})],1),t._v(" "),a("el-form-item",{staticClass:"login-item"},[a("el-button",{staticClass:"form-submit",attrs:{size:"large"},on:{click:t.submit_form}},[t._v("登录")])],1),t._v(" "),a("el-form-item",{staticClass:"login-item"},[a("el-button",{staticClass:"form-submit",attrs:{size:"large"},on:{click:t.to_tasklist}},[t._v("上线单查询")])],1)],1)],1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-title"},[a("div",[t._v(" 自动发布系统")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.get_user_info.login?a("div",{staticClass:"menu-right"},[a("div",{staticClass:"notification-menu"},[a("el-dropdown",{staticClass:"notification-list",attrs:{trigger:"click"}},[a("div",{staticClass:"notification-btn"},[a("img",{attrs:{src:t.get_user_info.user.Avatar,alt:t.get_user_info.user.Realname}}),t._v(" "),a("span",{domProps:{textContent:t._s(t.get_user_info.user.Realname)}}),t._v(" "),a("span",{staticClass:"icon"})]),t._v(" "),a("el-dropdown-menu",{staticClass:"dropdown-menu",slot:"dropdown"},[a("el-dropdown-item",{staticClass:"dropdown-list"},[a("a",{staticClass:"dropdown-btn",attrs:{href:"javascript:"},on:{click:function(e){t.user_click(1)}}},[a("i",{staticClass:"icon fa fa-user"}),t._v(" "),a("span",[t._v("个人信息")])])]),t._v(" "),a("el-dropdown-item",{staticClass:"dropdown-list"},[a("a",{staticClass:"dropdown-btn",attrs:{href:"javascript:"},on:{click:function(e){t.user_click(2)}}},[a("i",{staticClass:"icon fa fa-cog"}),t._v(" "),a("span",[t._v("注册用户")])])]),t._v(" "),a("el-dropdown-item",{staticClass:"dropdown-list"},[a("a",{staticClass:"dropdown-btn",attrs:{href:"javascript:"},on:{click:function(e){t.user_click(0)}}},[a("i",{staticClass:"icon fa fa-sign-out"}),t._v(" "),a("span",[t._v("安全退出")])])])],1)],1)],1)]):t._e()},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"left-side"},[a("div",{staticClass:"left-side-inner"},[a("router-link",{staticClass:"logo block",attrs:{to:"/"}},[a("div",{staticStyle:{color:"white"}},[t._v(" 自动发布系统")])]),t._v(" "),a("el-menu",{staticClass:"menu-box",attrs:{theme:"dark",router:"","default-active":t.$route.path}},t._l(t.nav_menu_data,function(e,s){return a("div",{key:s},[void 0===e.child?a("el-menu-item",{staticClass:"menu-list",attrs:{index:e.path}},[a("i",{staticClass:"icon fa",class:e.icon}),t._v(" "),a("span",{staticClass:"text",domProps:{textContent:t._s(e.title)}})]):a("el-submenu",{attrs:{index:e.path}},[a("template",{slot:"title"},[a("i",{staticClass:"icon fa",class:e.icon}),t._v(" "),a("span",{staticClass:"text",domProps:{textContent:t._s(e.title)}})]),t._v(" "),t._l(e.child,function(e,s){return a("el-menu-item",{key:s,staticClass:"menu-list",attrs:{index:e.path}},[a("span",{staticClass:"text",domProps:{textContent:t._s(e.title)}})])})],2)],1)}))],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel"},[a("panel-title",{attrs:{title:t.$route.meta.title}},[a("div",{staticStyle:{float:"left","margin-right":"10px"}},[a("search",{on:{search:t.submit_search}})],1),t._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(e){e.stopPropagation(),t.on_refresh(e)}}},[a("i",{staticClass:"fa fa-refresh"})])],1),t._v(" "),a("div",{staticClass:"panel-body",staticStyle:{clear:"both"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.load_data,expression:"load_data"}],staticStyle:{width:"100%"},attrs:{data:t.table_data,"element-loading-text":"拼命加载中",border:""}},[a("el-table-column",{attrs:{prop:"id",label:"id",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"realname",label:"创建人",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"项目"}}),t._v(" "),a("el-table-column",{attrs:{prop:"title",label:"上线单标题"}}),t._v(" "),a("el-table-column",{attrs:{prop:"updated_at",label:"上线时间",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{label:"分支"},scopedSlots:t._u([["default",function(e){return[""===e.row.branch?a("el-tag",{attrs:{type:"success"}},[t._v("Tag发布")]):a("el-tag",{attrs:{type:"info"}},[t._v(t._s(e.row.branch))])]}]])}),t._v(" "),a("el-table-column",{attrs:{prop:"commit_id",label:"\t上线commit号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pms_batch_id",label:"\t发布批次ID",width:"60"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pms_uwork_id",label:"\tuwork流程号",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"\t当前状态",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:t._u([["default",function(e){return["新建提交"!=e.row.status?a("router-link",{attrs:{to:{name:"taskRelease",params:{id:e.row.id,is_log:1}},tag:"span"}},[a("el-button",{attrs:{size:"small",icon:"edit"}},[t._v("查看日志")])],1):t._e(),t._v(" "),"上线中"!=e.row.status&&"上线完成"!=e.row.status?a("router-link",{attrs:{to:{name:"taskRelease",params:{id:e.row.id}},tag:"span"}},[a("el-button",{attrs:{type:"info",size:"small",icon:"edit"}},[t._v("上线")])],1):t._e(),t._v(" "),"上线完成"==e.row.status&&"0"==e.row.action&&"1"==e.row.enable_rollback?a("el-button",{attrs:{type:"warning",size:"small",icon:"share"},on:{click:function(a){t.create_rollback(e.row.id)}}},[t._v("\n                        回滚\n                    ")]):t._e(),t._v(" "),"上线完成"==e.row.status&&"0"==e.row.action&&"1"==e.row.enable_rollback?a("el-button",{attrs:{type:"warning",size:"small",icon:"share"},on:{click:function(a){t.create_rollback_this(e.row.id)}}},[t._v("\n                    回滚当前\n                  ")]):t._e(),t._v(" "),"新建提交"==e.row.status||"上线失败"==e.row.status?a("el-button",{attrs:{type:"danger",size:"small",icon:"delete"},on:{click:function(a){t.delete_data(e.row.id)}}},[t._v("删除\n                    ")]):t._e()]}]])})],1),t._v(" "),a("bottom-tool-bar",[a("div",{slot:"page"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":15,layout:"total, prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel"},[a("panel-title",{attrs:{title:t.$route.meta.title}}),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.load_data,expression:"load_data"}],staticClass:"panel-body",attrs:{"element-loading-text":"拼命加载中"}},[a("terminal",{attrs:{taskId:-1}})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{on:{submit:function(e){e.preventDefault(),t.submit_form(e)}}},[a("el-input",{attrs:{placeholder:t.placeholder},model:{value:t.formValue,callback:function(e){t.formValue=e},expression:"formValue"}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header-section"},[a("div",{staticClass:"search"}),t._v(" "),a("menu-right")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel"},[a("panel-title",{attrs:{title:t.$route.meta.title}}),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.load_data,expression:"load_data"}],staticClass:"panel-body",attrs:{"element-loading-text":"拼命加载中"}},[a("el-row",[a("el-col",{attrs:{span:20}},[a("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"上线单标题:",prop:"Title"}},[a("el-input",{staticStyle:{width:"500px"},attrs:{placeholder:"请输入标题"},model:{value:t.form.Title,callback:function(e){t.form.Title=e},expression:"form.Title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"发布方式:",prop:"isShowValue"}},[a("el-radio-group",{on:{change:t.showStatus},model:{value:t.isShowValue,callback:function(e){t.isShowValue=e},expression:"isShowValue"}},[a("el-radio",{attrs:{label:1}},[t._v("tag发布")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("分支发布")])],1)],1),t._v(" "),t.isShowStatus?a("div",[a("el-form-item",{attrs:{label:"选取tag:",prop:"CommitId","label-width":"100px"}},[a("el-select",{staticStyle:{width:"400px"},attrs:{filterable:"",placeholder:"请选择"},model:{value:t.form.CommitId,callback:function(e){t.form.CommitId=e},expression:"form.CommitId"}},t._l(t.tagData,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(e){e.stopPropagation(),t.get_tag_data(e)}}},[a("i",{staticClass:"fa fa-refresh"})])],1)],1):a("div",[a("el-form-item",{attrs:{label:"选取分支:",prop:"Branch","label-width":"100px"}},[a("el-select",{staticStyle:{width:"400px"},attrs:{filterable:"",placeholder:"请选择"},on:{change:t.get_commit},model:{value:t.form.Branch,callback:function(e){t.form.Branch=e},expression:"form.Branch"}},t._l(t.branchData,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(e){e.stopPropagation(),t.get_branch_data(e)}}},[a("i",{staticClass:"fa fa-refresh"})])],1),t._v(" "),a("el-form-item",{attrs:{label:"版本选取 :","label-width":"100px",prop:"CommitId"}},[a("el-select",{staticStyle:{width:"400px"},attrs:{filterable:"",placeholder:"请选择"},model:{value:t.form.CommitId,callback:function(e){t.form.CommitId=e},expression:"form.CommitId"}},t._l(t.commitData,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"灰度发布 :"}},[a("el-switch",{attrs:{"on-text":"on","off-text":"off"},model:{value:t.isShowHost,callback:function(e){t.isShowHost=e},expression:"isShowHost"}},[t._v("灰度发布")]),t._v(" "),a("div",[t.isShowHost?a("el-select",{staticStyle:{width:"400px"},attrs:{multiple:"",filterable:"",placeholder:"请选择"},model:{value:t.selectHosts,callback:function(e){t.selectHosts=e},expression:"selectHosts"}},t._l(t.Hosts,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})):t._e()],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:t.on_submit_loading},on:{click:t.on_submit_form}},[t._v("立即提交\n                        ")]),t._v(" "),a("el-button",{on:{click:function(e){t.$router.back()}}},[t._v("取消")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-bodya"},[a("div",{staticClass:"loginWarpa"},[t._m(0),t._v(" "),a("div",{staticClass:"login-forma"},[a("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"0"}},[a("el-form-item",{staticClass:"login-itema",attrs:{prop:"register_username"}},[a("label",{staticClass:"labela"},[t._v("账户名 ：")]),t._v(" "),a("el-input",{staticClass:"form-inputa",attrs:{readonly:t.isReadonly,placeholder:"请输入账户名：",autofocus:!0},model:{value:t.form.register_username,callback:function(e){t.form.register_username=e},expression:"form.register_username"}})],1),t._v(" "),a("el-form-item",{staticClass:"login-itema",attrs:{prop:"register_realname"}},[a("label",{staticClass:"labela"},[t._v("花名.实名 ：")]),t._v(" "),a("el-input",{staticClass:"form-inputa",attrs:{placeholder:"输入规范如：春哥.李宇春",autofocus:!0},model:{value:t.form.register_realname,callback:function(e){t.form.register_realname=e},expression:"form.register_realname"}})],1),t._v(" "),a("el-form-item",{staticClass:"login-itema",attrs:{prop:"register_email"}},[a("label",{staticClass:"labela"},[t._v("邮箱 ：")]),t._v(" "),a("el-input",{staticClass:"form-inputa",attrs:{placeholder:"请输入联系邮箱：",autofocus:!0},model:{value:t.form.register_email,callback:function(e){t.form.register_email=e},expression:"form.register_email"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"用户类型:","label-width":"100px"}},[a("el-radio-group",{model:{value:t.form.Role,callback:function(e){t.form.Role=e},expression:"form.Role"}},[a("el-radio",{attrs:{label:1}},[t._v("管理员")]),t._v(" "),a("el-radio",{attrs:{label:10}},[t._v("全部预发布用户")]),t._v(" "),a("el-radio",{attrs:{label:20}},[t._v("单个项目用户")])],1)],1),t._v(" "),20==t.form.Role?a("el-form-item",{attrs:{label:"项目名称:","label-width":"100px"}},[a("el-select",{staticStyle:{width:"400px"},attrs:{filterable:"",placeholder:"请选择",multiple:""},model:{value:t.pro_id,callback:function(e){t.pro_id=e},expression:"pro_id"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1):t._e(),t._v(" "),a("el-form-item",{staticClass:"login-item"},[a("el-button",{staticClass:"form-submita",attrs:{size:"large"},on:{click:t.submit_forma}},[t._v("确认注册")])],1)],1)],1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-titlea"},[a("div",[t._v(" 用户注册")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel"},[a("panel-title",{attrs:{title:t.$route.meta.title}}),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.load_data,expression:"load_data"}],staticClass:"panel-body",attrs:{"element-loading-text":"拼命加载中"}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务标题:"}},[t._v("\n                        "+t._s(t.task.Title)+"\n                    ")]),t._v(" "),"git"==t.project.RepoType?a("span",[""===t.task.Branch?a("div",[a("el-form-item",{attrs:{label:"Tag标签:"}},[t._v("\n                       "+t._s(t.task.CommitId)+"\n                   ")])],1):a("div",[a("el-form-item",{attrs:{label:"分支:"}},[t._v("\n                      "+t._s(t.task.Branch)+"\n                  ")]),t._v(" "),a("el-form-item",{attrs:{label:"哈希:"}},[t._v("\n                       "+t._s(t.task.CommitId)+"\n                   ")])],1)]):t._e(),t._v(" "),"file"==t.project.RepoType?a("span",[a("el-form-item",{attrs:{label:"包地址:"}},[t._v("\n                        "+t._s(t.task.CommitId)+"\n                    ")])],1):t._e(),t._v(" "),"jenkins"==t.project.RepoType?a("span",[a("el-form-item",{attrs:{label:"构建名称:"}},[t._v("\n                        "+t._s(t.task.Branch)+"\n                    ")]),t._v(" "),a("el-form-item",{attrs:{label:"包地址:"}},[t._v("\n                        "+t._s(t.task.CommitId)+"\n                    ")])],1):t._e(),t._v(" "),t.is_log?t._e():a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:t.on_submit_loading},on:{click:t.on_submit_form}},[t._v("部署\n                        ")]),t._v(" "),a("el-button",{on:{click:function(e){t.$router.back()}}},[t._v("取消")])],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目名称:"}},[t._v("\n                        "+t._s(t.project.Name)+"\n                    ")]),t._v(" "),a("el-form-item",{attrs:{label:"环境:"}},[t._v("\n                        "+t._s(t.levelEnv)+"\n                    ")]),t._v(" "),a("el-form-item",{attrs:{label:"部署路径:"}},[t._v("\n                        "+t._s(t.project.ReleaseTo)+"\n                    ")]),t._v(" "),a("el-form-item",{attrs:{label:"发布版本库:"}},[t._v("\n                        "+t._s(t.project.ReleaseLibrary)+"\n                    ")]),t._v(" "),a("el-form-item",{attrs:{label:"发布ip:"}},t._l(t.getHost,function(e){return a("span",[t._v(t._s(e)+" "),a("br")])}))],1)],1)],1),t._v(" "),a("terminal",{attrs:{taskId:t.task.Id}})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-content ofh"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("h-section"),t._v(" "),a("div",{staticClass:"wrapper"},[a("div",{staticClass:"pageContent"},[a("el-row",[a("el-col",{attrs:{span:24}},[t._t("default")],2)],1)],1)]),t._v(" "),a("v-footer")],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel"},[a("panel-title",{attrs:{title:t.$route.meta.title}},[a("div",{staticStyle:{float:"left","margin-right":"10px"}},[a("search",{on:{search:t.submit_search}})],1),t._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(e){e.stopPropagation(),t.on_refresh(e)}}},[a("i",{staticClass:"fa fa-refresh"})])],1),t._v(" "),a("div",{staticClass:"panel-body"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.load_data,expression:"load_data"}],staticStyle:{width:"100%"},attrs:{data:t.table_data,"element-loading-text":"拼命加载中",border:""}},[a("el-table-column",{attrs:{prop:"id",label:"id",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"realname",label:"创建人",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"项目"}}),t._v(" "),a("el-table-column",{attrs:{prop:"title",label:"上线单标题"}}),t._v(" "),a("el-table-column",{attrs:{prop:"updated_at",label:"上线时间",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{label:"分支"},scopedSlots:t._u([["default",function(e){return[""===e.row.branch?a("el-tag",{attrs:{type:"success"}},[t._v("Tag发布")]):a("el-tag",{attrs:{type:"info"}},[t._v(t._s(e.row.branch))])]}]])}),t._v(" "),a("el-table-column",{attrs:{prop:"commit_id",label:"\t上线commit号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pms_batch_id",label:"\t发布批次ID",width:"60"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pms_uwork_id",label:"\tuwork流程号",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"\t当前状态",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:t._u([["default",function(e){return["新建提交"!=e.row.status?a("router-link",{attrs:{to:{name:"taskRelease",params:{id:e.row.id,is_log:1}},tag:"span"}},[a("el-button",{attrs:{size:"small",icon:"edit"}},[t._v("查看日志")])],1):t._e(),t._v(" "),"上线中"!=e.row.status&&"上线完成"!=e.row.status?a("router-link",{attrs:{to:{name:"taskRelease",params:{id:e.row.id}},tag:"span"}},[a("el-button",{attrs:{type:"info",size:"small",icon:"edit"}},[t._v("上线")])],1):t._e(),t._v(" "),"上线完成"==e.row.status&&"0"==e.row.action&&"1"==e.row.enable_rollback?a("el-button",{attrs:{type:"warning",size:"small",icon:"share"},on:{click:function(a){t.create_rollback(e.row.id)}}},[t._v("\n                        回滚\n                    ")]):t._e(),t._v(" "),"上线完成"==e.row.status&&"0"==e.row.action&&"1"==e.row.enable_rollback?a("el-button",{attrs:{type:"warning",size:"small",icon:"share"},on:{click:function(a){t.create_rollback_this(e.row.id)}}},[t._v("\n                    回滚当前\n                  ")]):t._e(),t._v(" "),"新建提交"==e.row.status||"上线失败"==e.row.status?a("el-button",{attrs:{type:"danger",size:"small",icon:"delete"},on:{click:function(a){t.delete_data(e.row.id)}}},[t._v("删除\n                    ")]):t._e()]}]])})],1),t._v(" "),a("bottom-tool-bar",[a("div",{slot:"page"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":15,layout:"total, prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel"},[a("panel-title",{attrs:{title:t.$route.meta.title}}),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.load_data,expression:"load_data"}],staticClass:"panel-body",attrs:{"element-loading-text":"拼命加载中"}},[a("el-row",[a("el-col",{attrs:{span:20}},[a("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"上线单标题:",prop:"Title"}},[a("el-input",{staticStyle:{width:"500px"},attrs:{placeholder:"请输入标题"},model:{value:t.form.Title,callback:function(e){t.form.Title=e},expression:"form.Title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"url:",prop:"CommitId","label-width":"100px"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"若有http开头则不拼接配置文件的地址",placement:"top"}},[a("el-input",{staticStyle:{width:"500px"},attrs:{placeholder:"请输入url"},on:{change:t.change_data},model:{value:t.form.CommitId,callback:function(e){t.form.CommitId=e},expression:"form.CommitId"}})],1),t._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(e){e.stopPropagation(),t.get_md5_data(e)}}},[a("i",{staticClass:"fa fa-refresh"}),t._v(" 检查MD5\n                    ")]),t._v(" "),a("div",[t._v("md5："),a("span",{domProps:{textContent:t._s(t.md5)}})])],1),t._v(" "),a("el-form-item",{attrs:{label:"md5 :","label-width":"100px"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"当MD5不为空时，会检查下载文件的nd5",placement:"top"}},[a("el-input",{staticStyle:{width:"500px"},attrs:{placeholder:"请输入md5"},on:{change:t.change_md5data},model:{value:t.form.FileMd5,callback:function(e){t.form.FileMd5=e},expression:"form.FileMd5"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"灰度发布 :"}},[a("el-switch",{attrs:{"on-text":"on","off-text":"off"},model:{value:t.isShowHost,callback:function(e){t.isShowHost=e},expression:"isShowHost"}},[t._v("灰度发布")]),t._v(" "),a("div",[t.isShowHost?a("el-select",{staticStyle:{width:"400px"},attrs:{multiple:"",filterable:"",placeholder:"请选择"},model:{value:t.selectHosts,callback:function(e){t.selectHosts=e},expression:"selectHosts"}},t._l(t.Hosts,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})):t._e()],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:t.on_submit_loading},on:{click:t.on_submit_form}},[t._v("立即提交\n                        ")]),t._v(" "),a("el-button",{on:{click:function(e){t.$router.back()}}},[t._v("取消")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement;return(t._self._c||e)("footer",{staticClass:"footer"},[t._v("Copyright © "+t._s(t.getYear)+" 工具平台组 All Rights Reserved")])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-upload",{staticClass:"image-uploader-warp",attrs:{action:t.action,headers:t.headers,multiple:t.multiple,data:t.data,name:t.name,"with-credentials":t.withCredentials,"show-file-list":t.showFileList,drag:t.drag,accept:t.accept,"on-preview":t.onPreview,"on-success":t.onSuccess,"on-remove":t.onRemove,"before-upload":t.beforeUpload}},[a("div",{staticClass:"el-upload-icon"},[t._t("default")],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel"},[a("panel-title",{attrs:{title:t.$route.meta.title}}),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.load_data,expression:"load_data"}],staticClass:"panel-body",attrs:{"element-loading-text":"拼命加载中"}},[a("el-row",[a("el-col",{attrs:{span:20}},[a("el-form",{attrs:{"label-width":"100px"}},[a("div",{staticClass:"panel-title"},[t._v("\n            预发布\n            "),a("div",{staticClass:"fr"})]),t._v(" "),a("div",{staticClass:"panel-body"},[a("el-form-item",{attrs:{label:"项目名称:","label-width":"100px"}},[a("el-select",{staticStyle:{width:"400px"},attrs:{filterable:"",placeholder:"请选择"},model:{value:t.pro_id,callback:function(e){t.pro_id=e},expression:"pro_id"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),a("div",{staticClass:"panel-title"},[t._v("\n            正式环境\n            "),a("div",{staticClass:"fr"})]),t._v(" "),a("div",{staticClass:"panel-body"},[a("el-form-item",{attrs:{label:"项目名称:","label-width":"100px"}},[a("el-select",{staticStyle:{width:"400px"},attrs:{filterable:"",placeholder:"请选择"},model:{value:t.pro_id1,callback:function(e){t.pro_id1=e},expression:"pro_id1"}},t._l(t.options1,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:t.on_submit_loading},on:{click:t.on_submit_form}},[t._v("创建\n            ")]),t._v(" "),a("el-button",{on:{click:function(e){t.$router.back()}}},[t._v("返回")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"panel-body",staticStyle:{clear:"both"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"panel"},[a("panel-title",{attrs:{title:t.msg1}}),t._v(" "),a("div",{staticClass:"panel-body"},[a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.load_data,expression:"load_data"}],staticStyle:{width:"100%"},attrs:{data:t.table_data,"element-loading-text":"拼命加载中",border:"","max-height":"750"}},[a("el-table-column",{attrs:{prop:"Host",label:"Agent's IP",width:"450"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Status",label:"状态",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Pid",label:"项目Id"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Pname",label:"项目名称"}})],1)],1)])],1)]),t._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"panel",staticStyle:{"margin-left":"10px"}},[a("panel-title",{attrs:{title:t.msg2}},[a("div",{staticStyle:{float:"left","margin-right":"10px"}},[a("search",{on:{search:t.submit_search}})],1)]),t._v(" "),a("div",{staticClass:"panel-body"},[a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.load_data1,expression:"load_data1"}],staticStyle:{width:"100%"},attrs:{data:t.project_data,"element-loading-text":"拼命加载中",border:"","max-height":"750"}},[a("el-table-column",{attrs:{prop:"ip",label:"Agent's IP",width:"390"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([["default",function(e){return[a("el-button",{attrs:{type:"warning",size:"small",icon:"document"},on:{click:function(a){t.send_data(e.row.id)}}},[t._v("发送\n                    ")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"0px"},attrs:{type:"danger",size:"small",icon:"delete"},on:{click:function(a){t.restart_agent(e.row.id)}}},[t._v("重启\n                    ")])]}]])})],1)],1)])],1)])],1)],1)])},staticRenderFns:[]}},function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"error-page"},[a("div",{staticClass:"errorWarp"},[t._m(0),t._v(" "),a("h2",{staticClass:"title"},[t._v("PAGE NOT FOUND")]),t._v(" "),a("h3",{staticClass:"desc"},[t._v("WE COULDN’T FIND THIS PAGE")]),t._v(" "),a("router-link",{staticClass:"backBtn",attrs:{to:"/",tag:"span"}},[t._v("返回首页")])],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"image"},[s("img",{attrs:{src:a(611)}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"panel-body",staticStyle:{clear:"both"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"panel"},[a("panel-title",{attrs:{title:t.msg1}}),t._v(" "),a("div",{staticClass:"panel-body"},[a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.load_data,expression:"load_data"}],staticStyle:{width:"100%"},attrs:{data:t.day_data,"element-loading-text":"拼命加载中",border:"","max-height":"750"}},[a("el-table-column",{attrs:{prop:"id",label:"项目Id",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"项目名称"}})],1)],1)])],1)]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"panel",staticStyle:{"margin-left":"10px"}},[a("panel-title",{attrs:{title:t.msg2}},[a("div",{staticStyle:{float:"left","margin-right":"10px"}})]),t._v(" "),a("div",{staticClass:"panel-body"},[a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.load_data,expression:"load_data"}],staticStyle:{width:"100%"},attrs:{data:t.week_data,"element-loading-text":"拼命加载中",border:"","max-height":"750"}},[a("el-table-column",{attrs:{prop:"id",label:"项目Id",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"项目名称"}})],1)],1)])],1)]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"panel",staticStyle:{"margin-left":"10px"}},[a("panel-title",{attrs:{title:t.msg3}},[a("div",{staticStyle:{float:"left","margin-right":"10px"}})]),t._v(" "),a("div",{staticClass:"panel-body"},[a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.load_data,expression:"load_data"}],staticStyle:{width:"100%"},attrs:{data:t.month_data,"element-loading-text":"拼命加载中",border:"","max-height":"750"}},[a("el-table-column",{attrs:{prop:"id",label:"项目Id",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"项目名称"}})],1)],1)])],1)])],1)],1)])},staticRenderFns:[]}},,,function(t,e,a){a(235),t.exports=a(234)}],[678]);